<!-- HTML header for doxygen 1.8.10-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<title>bs::f docs - Playing audio</title>
<link rel="icon" type="image/png" href="logo.png">
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href='https://fonts.googleapis.com/css?family=Lato:normal,bold|Cabin:normal,bold' rel='stylesheet' type='text/css'>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="SemanticUI/semantic.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxystyle.css" rel="stylesheet" type="text/css"/>
<link href="SemanticUI/semantic.css" rel="stylesheet" type="text/css">
</head>
<body>
<div class="everything">
	<div class="ui inverted vertical center aligned segment" id="menuSegment">
		<div class="ui container">
			<div class="ui inverted mainmenu menu">
				<a href="https://www.bsframework.io"><div class="item" id="logoItem"><img class="ui image" id="logo" src="logoHeader.png"></div></a>
				<div class="right menu">
					<a class="borderless item" href="https://www.bsframework.io">Home</a>
					<a class="item" href="https://www.bsframework.io/download.html">Download</a>
					<a class="item" href="https://discourse.bsframework.io">Community</a>
					<a class="active item" href="https://www.bsframework.io/docs/index.html">Documentation</a>
					<a class="item" href="https://github.com/gamefoundry/bsf"><i class="github icon"></i>GitHub</a>
				</div>
			</div>
		</div>
	</div>	
	<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Playing audio </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#playingAudio_a">Volume</a></li>
<li class="level1"><a href="#playingAudio_b">Pitch</a></li>
<li class="level1"><a href="#playingAudio_c">Seeking</a></li>
<li class="level1"><a href="#playingAudio_d">Loop</a></li>
<li class="level1"><a href="#playingAudio_e">3D sounds</a><ul><li class="level2"><a href="#playingAudio_e_a">Listener</a></li>
<li class="level2"><a href="#playingAudio_e_b">Attenuation</a></li>
</ul>
</li>
<li class="level1"><a href="#playingAudio_f">Global controls</a></li>
<li class="level1"><a href="#playingAudio_g">Direct clip playback</a></li>
<li class="level1"><a href="#playingAudio_h">Device enumeration &amp; switching</a></li>
</ul>
</div>
<div class="textblock"><p>To play an audio clip create an <a class="el" href="classbs_1_1_c_audio_source.html">AudioSource</a> component.</p>
<div class="fragment"><div class="line">HSceneObject audioSourceSO = SceneObject::create(<span class="stringliteral">&quot;Audio source&quot;</span>);</div><div class="line">HAudioSource audioSource = audioSourceSO-&gt;addComponent&lt;CAudioSource&gt;();</div></div><!-- fragment --><p>Each audio source can have a single <b>AudioClip</b> associated with it. We can attach the clip to the source by calling <a class="el" href="classbs_1_1_c_audio_source.html">CAudioSource::setClip()</a>.</p>
<div class="fragment"><div class="line">HAudioClip clip = <a class="code" href="group___importer.html#gafda9808bfcae11afa60eee731056225e">gImporter</a>().<a class="code" href="classbs_1_1_importer.html#a956425fa45716612e04b109701bdd62f">import</a>&lt;AudioClip&gt;(<span class="stringliteral">&quot;myAudioClip.ogg&quot;</span>);</div><div class="line"></div><div class="line">audioSource-&gt;setClip(clip);</div></div><!-- fragment --><p>Once clip has been assigned you can control playback through these methods:</p><ul>
<li><a class="el" href="classbs_1_1_c_audio_source.html#a6d58098c6cf63c241ed03bc797256bb1">CAudioSource::play()</a> - Starts playing the assigned audio clip. If playback is currently stopped it starts playback from the clip beginning. If paused the playback is resumed from the point it was paused.</li>
<li><a class="el" href="classbs_1_1_c_audio_source.html#a8c528baf37154d347366083f0f816846">CAudioSource::stop()</a> - Stops playing the assigned audio clip.</li>
<li><a class="el" href="classbs_1_1_c_audio_source.html#a7167f5c196fc5e167bfabde1a730e81d">CAudioSource::pause()</a> - Pauses playing the assigned audio clip, allowing you to later resume it with a call to <b>CAudioSource::play()</b>.</li>
</ul>
<div class="fragment"><div class="line">audioSource-&gt;play();</div></div><!-- fragment --><p>You can also control playback by enabling/disabling the scene object the component is attached to. Disabling the scene object will stop any playback.</p>
<div class="fragment"><div class="line"><span class="comment">// Stops playback on any audio source components attached to the scene object</span></div><div class="line">audioSourceSO-&gt;setActive(<span class="keyword">false</span>);</div></div><!-- fragment --><p>When enabling a scene object, you can tell the audio source component to automatically start playback of its assigned clip by enabling the option through <a class="el" href="classbs_1_1_c_audio_source.html#a54ad22e884e16303f16ed9e40282ea74">CAudioSource::setPlayOnStart()</a>.</p>
<div class="fragment"><div class="line"><span class="comment">// When scene object this component is attached to, is enabled, playback will start automatically. Otherwise the user is required to call play() manually.</span></div><div class="line">audioSource-&gt;setPlayOnStart(<span class="keyword">true</span>);</div><div class="line"></div><div class="line"><span class="comment">// Starts playback</span></div><div class="line">audioSourceSO-&gt;setActive(<span class="keyword">true</span>);</div></div><!-- fragment --><p>This is all you need to do in order to play basic audio clips. But lets investigate a few more options that let you control the audio in more detail.</p>
<h1><a class="anchor" id="playingAudio_a"></a>
Volume</h1>
<p>Volume of the audio source can be controlled through <a class="el" href="classbs_1_1_c_audio_source.html#a44dbb438e1b254ef4e9b0f2aab66a433">CAudioSource::setVolume()</a>. The provided value ranges from 0 to 1.</p>
<div class="fragment"><div class="line"><span class="comment">// Set at half volume</span></div><div class="line">audioSource-&gt;setVolume(0.5f);</div></div><!-- fragment --><h1><a class="anchor" id="playingAudio_b"></a>
Pitch</h1>
<p>Pitch can be controlled through <a class="el" href="classbs_1_1_c_audio_source.html#ac1560d8914fef10e4258ca5bad40717f">CAudioSource::setPitch()</a> by providing a pitch multiplier. Values larger than 1 yield a higher pitch, while values smaller than 1 yield a lower pitch.</p>
<div class="fragment"><div class="line"><span class="comment">// Increase pitch 100%</span></div><div class="line">audioSource-&gt;setPitch(2.0f);</div><div class="line"></div><div class="line"><span class="comment">// Decrease pitch by 50% (from default)</span></div><div class="line">audioSource-&gt;setPitch(0.5f);</div></div><!-- fragment --><h1><a class="anchor" id="playingAudio_c"></a>
Seeking</h1>
<p>You can seek to a specific position within the currently assigned audio clip by calling <a class="el" href="classbs_1_1_c_audio_source.html#a92a0f36b3032a2ef1f747acd526d4fad">CAudioSource::setTime()</a>. It accepts a time in seconds. If clip is currently playing, the playback will skip to the provided time. If clip is currently paused, the clip will resume from the provided time the next time <b>CAudioSource::play()</b> is called.</p>
<div class="fragment"><div class="line"><span class="comment">// Seek to 30 seconds</span></div><div class="line">audioSource-&gt;setTime(30.0f);</div></div><!-- fragment --><h1><a class="anchor" id="playingAudio_d"></a>
Loop</h1>
<p>By default when the playback reaches the end of the current audio clip, the playback will end. You can ensure the playback loops instead by calling <a class="el" href="classbs_1_1_c_audio_source.html#a6b5c7d022ab6e42e33f0fef4d6b7d38e">CAudioSource::setIsLooping()</a>.</p>
<div class="fragment"><div class="line"><span class="comment">// When playback reaches the end, loop back to start</span></div><div class="line">audioSource-&gt;setIsLooping(<span class="keyword">true</span>);</div></div><!-- fragment --><h1><a class="anchor" id="playingAudio_e"></a>
3D sounds</h1>
<p>If an <b>AudioClip</b> has been marked as 3D sound (as described in the previous chapter), then sound playback will be influenced by the position and/or velocity of the scene object the <b>AudioSource</b> component is attached to. This means such sounds will sound differently depending on their distance from the listener (among other properties). This ensures the sounds feel realistic as the player walks around the level (i.e. sounding quieter when far away, or using surround to project the sound behind the player).</p>
<p>3D sounds only work if there is a listener defined in the scene.</p>
<h2><a class="anchor" id="playingAudio_e_a"></a>
Listener</h2>
<p>Listener provides a reference point used for 3D sound effects. It is represented with a <a class="el" href="classbs_1_1_c_audio_listener.html">AudioListener</a> component. It requires no additional properties aside from being present in the scene.</p>
<div class="fragment"><div class="line">HSceneObject audioListenerSO = SceneObject::create(<span class="stringliteral">&quot;Audio listener&quot;</span>);</div><div class="line">audioListenerSO-&gt;addComponent&lt;CAudioListener&gt;();</div></div><!-- fragment --><p>Normally you want to attach this component to a scene object representing your player, or the player's camera.</p>
<h2><a class="anchor" id="playingAudio_e_b"></a>
Attenuation</h2>
<p>Attenuation determines how quickly does audio volume drop off as the listener moves further from the audio source. Change it through <a class="el" href="classbs_1_1_c_audio_source.html#a79211e1eb08e72877de3de23224691d0">CAudioSource::setAttenuation()</a>. Higher values means the sound attenuates more quickly with distance.</p>
<p>You can further control attenuation by setting <a class="el" href="classbs_1_1_c_audio_source.html#a656923c8a10b1011b3f698800736d3d4">CAudioSource::setMinDistance()</a>. If the listener is closer to the source than minimum distance, then the audio will play at full volume. This ensures that the effect of attenuation can be avoided when the listener is close to the source.</p>
<div class="fragment"><div class="line"><span class="comment">// Normal attenuation</span></div><div class="line">audioSource-&gt;setAttenuation(1.0f);</div><div class="line"></div><div class="line"><span class="comment">// Attenuation starts at distance of 2 units</span></div><div class="line">setAttenuation-&gt;setMinDistance(2.0f);</div></div><!-- fragment --><h1><a class="anchor" id="playingAudio_f"></a>
Global controls</h1>
<p>Audio options can also be controlled globally though the <a class="el" href="classbs_1_1_audio.html">Audio</a> system, accessible though <a class="el" href="group___audio.html#ga3efa237f7931eb7f5e3793064b3bc3fe">gAudio()</a>.</p>
<p>You can change the audio volume globally by calling <a class="el" href="classbs_1_1_audio.html#a0a446eea214698546d66bd82cdaa5c18">Audio::setVolume()</a>. </p><div class="fragment"><div class="line"><span class="comment">// Mute all sounds</span></div><div class="line"><a class="code" href="group___audio.html#ga3efa237f7931eb7f5e3793064b3bc3fe">gAudio</a>().<a class="code" href="classbs_1_1_audio.html#a0a446eea214698546d66bd82cdaa5c18">setVolume</a>(0.0f);</div></div><!-- fragment --><p>You can also pause/unpause all sounds globally by calling <a class="el" href="classbs_1_1_audio.html#a15d4efe0f5f57583c8645fae1752df75">Audio::setPaused()</a>. </p><div class="fragment"><div class="line"><span class="comment">// Pause all sounds</span></div><div class="line"><a class="code" href="group___audio.html#ga3efa237f7931eb7f5e3793064b3bc3fe">gAudio</a>().<a class="code" href="classbs_1_1_audio.html#a15d4efe0f5f57583c8645fae1752df75">setPaused</a>(<span class="keyword">true</span>);</div></div><!-- fragment --><h1><a class="anchor" id="playingAudio_g"></a>
Direct clip playback</h1>
<p>Sometimes you do not need all the features offered by <b>AudioSource</b> component, and just want to play a sound with no extra options. In that case you can call <a class="el" href="classbs_1_1_audio.html#aa2a31ec156353eea96f8398330ac53ac">Audio::play()</a> and provide it with an <b>AudioClip</b> to play. The clip will play at the provided volume &amp; position. It will stop once it ends (no looping), and you won't have any control over its playback once it starts. This is useful for short one-shot effects.</p>
<div class="fragment"><div class="line"><a class="code" href="group___audio.html#ga3efa237f7931eb7f5e3793064b3bc3fe">gAudio</a>().<a class="code" href="classbs_1_1_audio.html#aa2a31ec156353eea96f8398330ac53ac">play</a>(clip);</div></div><!-- fragment --><h1><a class="anchor" id="playingAudio_h"></a>
Device enumeration &amp; switching</h1>
<p>If user has multiple audio devices, you can use the <b>Audio</b> system to enumerate through them and switch which device you wish to output to.</p>
<p>To retrieve a list of all devices call <a class="el" href="classbs_1_1_audio.html#a54f7c7228aa5a48b530bf05a0b45d597">Audio::getAllDevices()</a>. This will return a set of <a class="el" href="structbs_1_1_audio_device.html">AudioDevice</a> objects, which contain unique names for all the output devices.</p>
<p>To switch the active device call <a class="el" href="classbs_1_1_audio.html#aa0213f659a610fee8972fc813c59f5bb">Audio::setActiveDevice()</a>.</p>
<p>To retrieve the default audio device (the one user selected in the operating system), call <a class="el" href="classbs_1_1_audio.html#af35803d7408bad324ca7cd1908b6b204">Audio::getDefaultDevice()</a>.</p>
<div class="fragment"><div class="line"><span class="comment">// Enumerate devices and choose the second one available if present</span></div><div class="line">Vector&lt;AudioDevice&gt; devices = <a class="code" href="group___audio.html#ga3efa237f7931eb7f5e3793064b3bc3fe">gAudio</a>().<a class="code" href="classbs_1_1_audio.html#a54f7c7228aa5a48b530bf05a0b45d597">getAllDevices</a>();</div><div class="line"><span class="keywordflow">if</span>(devices.size() &gt; 1)</div><div class="line">    <a class="code" href="group___audio.html#ga3efa237f7931eb7f5e3793064b3bc3fe">gAudio</a>().<a class="code" href="classbs_1_1_audio.html#aa0213f659a610fee8972fc813c59f5bb">setActiveDevice</a>(devices[1]);</div></div><!-- fragment --> </div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.10-->
<!-- start footer part -->
    <!-- Footer -->
    <div class="myFooter">
		<div class="ui inverted vertical footer segment" style="border-top: 2px solid #f9500d;">
			<div class="ui container">
				<div class="ui stackable inverted divided equal height grid">
					<div class="three wide column">
						<h4 class="ui inverted header">Contact</h4>
						<div class="ui inverted link list">
							<a href="mailto:contact@bsframework.io" class="item">Contact us</a>
							<a href="https://github.com/GameFoundry/bsf/issues" target="_blank" class="item">Report an issue</a>
						</div>
					</div>
					<div class="three wide column">
						<h4 class="ui inverted header">Info</h4>
						<div class="ui inverted link list">
							<a href="https://github.com/GameFoundry/bsf" target="_blank" class="item">Contribute</a>
							<a href="https://github.com/GameFoundry/bsf/blob/master/Documentation/GitHub/roadmap.md" target="_blank" class="item">Roadmap</a>
							<a href="https://github.com/GameFoundry/bsf/blob/master/LICENSE.md" target="_blank" class="item">License</a>
						</div>
					</div>
					<div class="seven wide column">
						<h4 class="ui inverted header">Donate</h4>
						<div class="ui horizontal list">
							<div class="item"><a href="https://www.patreon.com/bsf"><img class="ui image" src="become_a_patron_button.png"></a></div>
							<div class="item"><a href="https://www.paypal.me/MarkoPintera/10" target="_blank"><img class="ui image" src="paypalDonate.png"></a></div>
						</div>
						<p style="padding-top:7px"><i>bs::f</i> is developed by Marko Pintera and contributors.</p>
					</div>
				</div>
			</div>
		</div>
	</div>
</div> <!-- Everything -->
</body>
</html>
