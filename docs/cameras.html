<!-- HTML header for doxygen 1.8.10-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<title>bs::f docs - Cameras</title>
<link rel="icon" type="image/png" href="logo.png">
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href='https://fonts.googleapis.com/css?family=Lato:normal,bold|Cabin:normal,bold' rel='stylesheet' type='text/css'>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="SemanticUI/semantic.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxystyle.css" rel="stylesheet" type="text/css"/>
<link href="SemanticUI/semantic.css" rel="stylesheet" type="text/css">
</head>
<body>
<div class="everything">
	<div class="ui inverted vertical center aligned segment" id="menuSegment">
		<div class="ui container">
			<div class="ui inverted mainmenu menu">
				<a href="https://www.bsframework.io"><div class="item" id="logoItem"><img class="ui image" id="logo" src="logoHeader.png"></div></a>
				<div class="right menu">
					<a class="borderless item" href="https://www.bsframework.io">Home</a>
					<a class="item" href="https://www.bsframework.io/download.html">Download</a>
					<a class="item" href="https://discourse.bsframework.io">Community</a>
					<a class="active item" href="https://www.bsframework.io/docs/index.html">Documentation</a>
					<a class="item" href="https://github.com/gamefoundry/bsf"><i class="github icon"></i>GitHub</a>
				</div>
			</div>
		</div>
	</div>	
	<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Cameras </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#cameras_a">Projection type</a><ul><li class="level2"><a href="#cameras_a_a">Perspective cameras</a></li>
<li class="level2"><a href="#cameras_a_b">Ortographic</a></li>
</ul>
</li>
<li class="level1"><a href="#cameras_b">Field of view</a></li>
<li class="level1"><a href="#cameras_c">Aspect ratio</a></li>
<li class="level1"><a href="#cameras_d">Ortographic size</a></li>
<li class="level1"><a href="#cameras_e">Multi-sample anti-aliasing</a></li>
</ul>
</div>
<div class="textblock"><p>Cameras represent the user's view into the scene, and any graphical application will require at least one camera for the user to be able to see anything.</p>
<p>They have parameters like position and orientation which define what part of the scene will the user see. Additionally, their parameters like field of view, projection mode and aspect ratio define how is the application scene transformed into the 2D output visible to the user.</p>
<p>Finally, everything that the camera sees is output to what we call a render target. Render targets can be windows, like the one that was created when the application was started, or an off-screen surface, as we'll explain later.</p>
<p>Cameras are represented by the <a class="el" href="classbs_1_1_c_camera.html">Camera</a> component, and they can be created as any other component.</p>
<div class="fragment"><div class="line">HSceneObject cameraSO = SceneObject::create(<span class="stringliteral">&quot;Camera&quot;</span>);</div><div class="line">HCamera camera = cameraSO-&gt;addComponent&lt;CCamera&gt;();</div></div><!-- fragment --><p>Before the camera can render anything, you need to assign the render target to which the camera will output its contents to. Lets create a camera that renders to the primary render window. The primary application window can be retrieved through <a class="el" href="classbs_1_1_core_application.html#a51c7948ad67e8cd4ec53d242016b929d">Application::getPrimaryWindow()</a>.</p>
<p>To assign the window, retrieve the <a class="el" href="classbs_1_1_viewport.html">Viewport</a> object from the camera, and set its target using the <a class="el" href="classbs_1_1_viewport.html#ab020fdf0d3708f0699f5760b85cca96b">Viewport::setTarget()</a> method.</p>
<div class="fragment"><div class="line">SPtr&lt;RenderWindow&gt; primaryWindow = <a class="code" href="group___application-_engine.html#gac5ac20960426d36154b4e1dc3da22400">gApplication</a>().<a class="code" href="classbs_1_1_core_application.html#a51c7948ad67e8cd4ec53d242016b929d">getPrimaryWindow</a>();</div><div class="line">camera-&gt;getViewport()-&gt;setTarget(primaryWindow);</div></div><!-- fragment --><blockquote class="doxtable">
<p><b>Application</b> is a singleton and its instance can be accessed through <a class="el" href="classbs_1_1_module.html#a359703743cd890f1e3df60b6b06a5724">Application::instance()</a>, or the helper method <a class="el" href="group___application-_engine.html#gac5ac20960426d36154b4e1dc3da22400">gApplication()</a>. All other singletons in the framework follow the same design. </p>
</blockquote>
<p>Or alternatively, you can just mark the camera as 'main', which will render to the default render target (in this case, the primary window).</p>
<div class="fragment"><div class="line">camera-&gt;setMain(<span class="keyword">true</span>);</div></div><!-- fragment --><p>Once the camera has been created we can move and orient it using the <b>SceneObject</b> transform, as explained earlier. For example: </p><div class="fragment"><div class="line"><span class="comment">// Move camera to 10 meters height, and 50 meters away from the center</span></div><div class="line">cameraSO-&gt;setPosition(Vector3(0f, 10f, 50f));</div><div class="line"></div><div class="line"><span class="comment">// Orient the camera so it is looking at the center</span></div><div class="line">cameraSO-&gt;lookAt(Vector3(0f, 0f, 0f));</div></div><!-- fragment --><p>Once set up, any rendered objects in the camera's view will be displayed on the selected render target, which is in this case the primary application window.</p>
<p>You can also customize a variety of parameters that control how will the camera render the objects.</p>
<h1><a class="anchor" id="cameras_a"></a>
Projection type</h1>
<p>All cameras can be in two projection modes: <em>Perspective</em> and <em>Ortographic</em>. They can be changed by calling <a class="el" href="classbs_1_1_c_camera.html#adf4294276b1ac89c1f57b1139802a8b4">CCamera::setProjectionType()</a>.</p>
<h2><a class="anchor" id="cameras_a_a"></a>
Perspective cameras</h2>
<p>This mode simulates human vision, where objects farther away appear smaller. This is what you will need for most 3D applications.</p>
<div class="fragment"><div class="line">camera-&gt;setProjectionType(<a class="code" href="group___utility-_core.html#ggaddbdeb0c4a9113fece681e37faca81d3addd264a2e35102adc1978b72272f1805">PT_PERSPECTIVE</a>);</div></div><!-- fragment --><div class="image">
<img src="PerspectiveCamera.png" alt="PerspectiveCamera.png"/>
<div class="caption">
Model drawn using the perspective camera</div></div>
<p> <br />
 </p>
<h2><a class="anchor" id="cameras_a_b"></a>
Ortographic</h2>
<p>Renders the image without perspective distortion, ensuring objects remain the same size regardless of the distance from camera, essentially "flattening" the image. Useful for 2D applications.</p>
<div class="fragment"><div class="line">camera-&gt;setProjectionType(<a class="code" href="group___utility-_core.html#ggaddbdeb0c4a9113fece681e37faca81d3a89f0e442563f584c2f258ec55df4646a">PT_ORTHOGRAPHIC</a>);</div></div><!-- fragment --><div class="image">
<img src="OrtographicCamera.png" alt="OrtographicCamera.png"/>
<div class="caption">
Model drawn using the ortographic camera</div></div>
<p> <br />
 </p>
<h1><a class="anchor" id="cameras_b"></a>
Field of view</h1>
<p>This is a parameter only relevant for perspective cameras. It controls the horizontal angle of vision - increasing it means the camera essentially has a wider lens. Modify it by calling <a class="el" href="classbs_1_1_c_camera.html#a152ca4e1de8e32327346a0f84ee9df01">CCamera::setHorzFOV()</a>.</p>
<p>Example of setting the FOV to 90 degrees: </p><div class="fragment"><div class="line">camera-&gt;setHorzFOV(Degree(90));</div></div><!-- fragment --><p>Vertical FOV is automatically determined from the aspect ratio.</p>
<h1><a class="anchor" id="cameras_c"></a>
Aspect ratio</h1>
<p>Aspect ratio allows you to control the ratio of the camera's width and height. It can be set by calling <a class="el" href="classbs_1_1_c_camera.html#ad77389f17c8d1366fdcfffc76f47bf6b">CCamera::setAspectRatio()</a>.</p>
<p>Normally you want to set it to the ratio of the render target's width and height, as shown below.</p>
<div class="fragment"><div class="line">SPtr&lt;RenderWindow&gt; primaryWindow = <a class="code" href="group___application-_engine.html#gac5ac20960426d36154b4e1dc3da22400">gApplication</a>().<a class="code" href="classbs_1_1_core_application.html#a51c7948ad67e8cd4ec53d242016b929d">getPrimaryWindow</a>();</div><div class="line"><span class="keyword">auto</span>&amp; windowProps = primaryWindow-&gt;getProperties();</div><div class="line"></div><div class="line"><span class="keywordtype">float</span> aspectRatio = windowProps.getWidth() / (float)windowProps.getHeight();</div><div class="line">camera-&gt;setAspectRatio(aspectRatio);</div></div><!-- fragment --><p>But you are also allowed to freely adjust it for different effects.</p>
<h1><a class="anchor" id="cameras_d"></a>
Ortographic size</h1>
<p>This parameter has a similar purpose as field of view, but is used for ortographic cameras instead. It controls the width and height (in world space) of the area covered by the camera. It is set by calling <a class="el" href="classbs_1_1_c_camera.html#ad8ad7330e2a929be5650c6c06ca8a79a">CCamera::setOrthoWindow()</a>.</p>
<p>Set up ortographic view that shows 500x500 units of space, along the current orientation axis. </p><div class="fragment"><div class="line">camera-&gt;setOrthoWindow(500, 500);</div></div><!-- fragment --><p>For example, if you are making a 2D game, your world units are most likely pixels. In which case you will want to set the ortographic size to the same size as the render target size (resolution):</p>
<div class="fragment"><div class="line">SPtr&lt;RenderWindow&gt; primaryWindow = <a class="code" href="group___application-_engine.html#gac5ac20960426d36154b4e1dc3da22400">gApplication</a>().<a class="code" href="classbs_1_1_core_application.html#a51c7948ad67e8cd4ec53d242016b929d">getPrimaryWindow</a>();</div><div class="line"><span class="keyword">auto</span>&amp; windowProps = primaryWindow-&gt;getProperties();</div><div class="line"></div><div class="line">camera-&gt;setOrthoWindow(windowProps.getWidth(), windowProps.getHeight());</div></div><!-- fragment --><h1><a class="anchor" id="cameras_e"></a>
Multi-sample anti-aliasing</h1>
<p>To achieve higher rendering quality you may enable MSAA per camera. This will ensure that each rendered pixel receives multiple samples which are then averaged to produce the final pixel color. This process reduced aliasing on pixels that have discontinuities, like pixels that are on a boundary between two surfaces. This reduces what are often called "jaggies".</p>
<p>MSAA can be enabled by providing a values of 1, 2, 4 or 8 to <a class="el" href="classbs_1_1_c_camera.html#a58c1981ee11294fe9ddb3f35cd72512a">CCamera::setMSAACount()</a>. The value determines number of samples per pixel, where 1 means no MSAA. MSAA can be quite performance heavy, and larger MSAA values require proportionally more performance.</p>
<div class="fragment"><div class="line"><span class="comment">// Enable 4X MSAA</span></div><div class="line">camera-&gt;setMSAACount(4);</div></div><!-- fragment --><div class="image">
<img src="MSAA.png" alt="MSAA.png"/>
<div class="caption">
MSAA comparison</div></div>
 </div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.10-->
<!-- start footer part -->
    <!-- Footer -->
    <div class="myFooter">
		<div class="ui inverted vertical footer segment" style="border-top: 2px solid #f9500d;">
			<div class="ui container">
				<div class="ui stackable inverted divided equal height grid">
					<div class="three wide column">
						<h4 class="ui inverted header">Contact</h4>
						<div class="ui inverted link list">
							<a href="mailto:contact@bsframework.io" class="item">Contact us</a>
							<a href="https://github.com/GameFoundry/bsf/issues" target="_blank" class="item">Report an issue</a>
						</div>
					</div>
					<div class="three wide column">
						<h4 class="ui inverted header">Info</h4>
						<div class="ui inverted link list">
							<a href="https://github.com/GameFoundry/bsf" target="_blank" class="item">Contribute</a>
							<a href="https://github.com/GameFoundry/bsf/blob/master/Documentation/GitHub/roadmap.md" target="_blank" class="item">Roadmap</a>
							<a href="https://github.com/GameFoundry/bsf/blob/master/LICENSE.md" target="_blank" class="item">License</a>
						</div>
					</div>
					<div class="seven wide column">
						<h4 class="ui inverted header">Donate</h4>
						<div class="ui horizontal list">
							<div class="item"><a href="https://www.patreon.com/bsf"><img class="ui image" src="become_a_patron_button.png"></a></div>
							<div class="item"><a href="https://www.paypal.me/MarkoPintera/10" target="_blank"><img class="ui image" src="paypalDonate.png"></a></div>
						</div>
						<p style="padding-top:7px"><i>bs::f</i> is developed by Marko Pintera and contributors.</p>
					</div>
				</div>
			</div>
		</div>
	</div>
</div> <!-- Everything -->
</body>
</html>
