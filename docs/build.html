<!-- HTML header for doxygen 1.8.10-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<title>bs::f docs - Setting up a project</title>
<link rel="icon" type="image/png" href="logo.png">
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href='https://fonts.googleapis.com/css?family=Lato:normal,bold|Cabin:normal,bold' rel='stylesheet' type='text/css'>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="SemanticUI/semantic.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxystyle.css" rel="stylesheet" type="text/css"/>
<link href="SemanticUI/semantic.css" rel="stylesheet" type="text/css">
</head>
<body>
<div class="everything">
	<div class="ui inverted vertical center aligned segment" id="menuSegment">
		<div class="ui container">
			<div class="ui inverted mainmenu menu">
				<a href="https://www.bsframework.io"><div class="item" id="logoItem"><img class="ui image" id="logo" src="logoHeader.png"></div></a>
				<div class="right menu">
					<a class="borderless item" href="https://www.bsframework.io">Home</a>
					<a class="item" href="https://www.bsframework.io/download.html">Download</a>
					<a class="item" href="https://discourse.bsframework.io">Community</a>
					<a class="active item" href="https://www.bsframework.io/docs/index.html">Documentation</a>
					<a class="item" href="https://github.com/gamefoundry/bsf"><i class="github icon"></i>GitHub</a>
				</div>
			</div>
		</div>
	</div>	
	<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Setting up a project </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#build_a">Link with binaries</a><ul><li class="level2"><a href="#build_a_a">CMake</a></li>
<li class="level2"><a href="#build_a_b">Preparation</a></li>
<li class="level2"><a href="#build_a_c">CMake project</a></li>
<li class="level2"><a href="#build_a_d">Code</a></li>
<li class="level2"><a href="#build_a_e">Get CMake</a></li>
<li class="level2"><a href="#build_a_f">Build</a></li>
<li class="level2"><a href="#build_a_g">Copy files</a></li>
<li class="level2"><a href="#build_a_h">Run</a></li>
</ul>
</li>
<li class="level1"><a href="#build_b">Link with source</a><ul><li class="level2"><a href="#build_b_a">Preparation</a></li>
<li class="level2"><a href="#build_b_b">CMake project</a></li>
<li class="level2"><a href="#build_b_c">Code</a></li>
<li class="level2"><a href="#build_b_d">Build</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><p>This manual will explain how to set up your own project and link it with bs::framework. We'll explore two options:</p><ul>
<li><b>Link with binaries</b> - Either download the precompiled set of binaries or compile them yourself. Then create a project that links with the binaries. If you do not wish to compile <code>bsf</code> yourself, this is the best approach to follow.</li>
<li><b>Link with source</b> - Grab the source code and include it as part of your own project. Requires you to go through the same steps as if you were compiling <code>bsf</code> from scratch, but allows you to easily recompile the framework from latest source, or due to your own modifications. If you plan on making changes to the framework, or want to frequently update to the latest version, this is the best approach.</li>
</ul>
<h1><a class="anchor" id="build_a"></a>
Link with binaries</h1>
<p>The first step is to actually get <code>bsf</code> binaries. You have two options:</p><ol type="1">
<li>Get the precompiled set of binaries from the <a href="https://www.bsframework.io/download.html">Download</a> page. This is the simplest and easiest solution.</li>
<li>Grab the source code and compile the program yourself. You can either get the latest code from the <a href="https://github.com/GameFoundry/bsf">GitHub</a> repository, or download an archived version of one of the releases from the <a href="https://www.bsframework.io/download.html">Download</a> page. Follow the compilation guide on the GitHub page for detailed instructions. Note that you should probably consider going with the <b>Link with source</b> approach if you plan on compiling <code>bsf</code> anyway.</li>
</ol>
<p>Whether you downloaded precompiled binaries or compiled them yourself you should now have three folders containing the entirety of <code>bsf</code>:</p><ul>
<li><code>bin</code> - Contains dynamic libraries and data files</li>
<li><code>include</code> - Contains public header files</li>
<li><code>lib</code> - Contains shared and import libraries</li>
</ul>
<p>For precompiled dependencies these folders will be part of the downloaded archive, and for manually compiled option they will be placed in the chosen <code>install</code> folder.</p>
<p>In order to get your project running you will need to:</p><ul>
<li>Provide a path to the bsf's include folder to your compiler</li>
<li>Link with the <code>bsf</code> dynamic/shared library</li>
<li>Make sure your executable can find all the dynamic libraries and data files</li>
</ul>
<p>We'll use CMake to create a project that will ultimately work with any major build tool (like Visual Studio, XCode or Makefiles).</p>
<h2><a class="anchor" id="build_a_a"></a>
CMake</h2>
<p>CMake is a build system that allows you define a project that can then be used for building across multiple platforms and build tools. Such CMake project can be used to create a Visual Studio solution, XCode project or Unix Makefiles. <code>bsf</code> also comes with modules that make using <code>bsf</code> in your CMake project easier.</p>
<p>Note that CMake is fairly complex and we don't go into details about all of its syntax. There are many tutorials that do that. However our project will be pretty simple and should be easy to understand even to a newcomer to CMake.</p>
<h2><a class="anchor" id="build_a_b"></a>
Preparation</h2>
<p>First create a new directory where you would like your project to live. Grab the <code>Findbsf.cmake</code> file from <a href="https://github.com/GameFoundry/bsf/raw/master/Source/CMake/Modules/Findbsf.cmake">here</a> and place it in the root of your project folder. This file will be used for helping us find <code>bsf</code> libraries and includes.</p>
<h2><a class="anchor" id="build_a_c"></a>
CMake project</h2>
<p>In your project folder create <code>CMakeLists.txt</code>, and fill it out like so: </p><div class="fragment"><div class="line"># Minimum version of CMake as required by bsf</div><div class="line">cmake_minimum_required (VERSION 3.9.0)</div><div class="line"></div><div class="line"># Name of your project</div><div class="line">project (myProject)</div><div class="line"></div><div class="line"># Add necessary compiler flags</div><div class="line">if(CMAKE_CXX_COMPILER_ID MATCHES &quot;Clang&quot; OR </div><div class="line">   CMAKE_CXX_COMPILER_ID MATCHES &quot;AppleClang&quot; OR</div><div class="line">   CMAKE_CXX_COMPILER_ID MATCHES &quot;GNU&quot;)</div><div class="line">    add_compile_options(-fno-rtti)</div><div class="line">endif()</div><div class="line"></div><div class="line"># Make sure to use the C++14 standard</div><div class="line">set(CMAKE_CXX_STANDARD 14)</div><div class="line"></div><div class="line"># Build an executable from the provided C++ files</div><div class="line">add_executable(myApp &quot;Main.cpp&quot;)</div><div class="line"></div><div class="line"># Path to where you have installed bsf</div><div class="line">set(bsf_INSTALL_DIR &quot;C:/path/to/bsf/install&quot;)</div><div class="line"></div><div class="line"># Let CMake know where to find the Findbsf.cmake file (at current folder)</div><div class="line">set(CMAKE_MODULE_PATH &quot;${PROJECT_SOURCE_DIR}&quot;)</div><div class="line"></div><div class="line"># Find bsf libraries and headers</div><div class="line">find_package(bsf REQUIRED)</div><div class="line"></div><div class="line"># Link bsf library with your application</div><div class="line">target_link_libraries(myApp PRIVATE bsf)</div></div><!-- fragment --><h2><a class="anchor" id="build_a_d"></a>
Code</h2>
<p>The CMake file above references <code>Main.cpp</code> file. The most basic file that runs the framework looks like so: </p><div class="fragment"><div class="line">#include &quot;BsApplication.h&quot;</div><div class="line"></div><div class="line">int main()</div><div class="line">{</div><div class="line">    using namespace bs;</div><div class="line"></div><div class="line">    VideoMode videoMode(1280, 720);</div><div class="line">    Application::startUp(videoMode, &quot;Example&quot;, false);</div><div class="line">    Application::instance().runMainLoop();</div><div class="line">    Application::shutDown();</div><div class="line"></div><div class="line">    return 0;</div><div class="line">}</div></div><!-- fragment --><p>We will explain the code above in following manuals, but for now you can just copy/paste it and use it for the starting point.</p>
<p>Place the <code>Main.cpp</code> into your project's root folder.</p>
<h2><a class="anchor" id="build_a_e"></a>
Get CMake</h2>
<p>If you don't already have it, grab the latest version of CMake from <a href="https://cmake.org/download/">www.cmake.org</a>. Make sure to grab version 3.9.0 or later.</p>
<h2><a class="anchor" id="build_a_f"></a>
Build</h2>
<p>You are now ready to build the project. From your project's root folder execute the following commands in terminal/command line:</p><ul>
<li><code>mkdir build</code></li>
<li><code>cd build</code></li>
<li><code>cmake -G "$generator" ..</code><ul>
<li>Where <em>$generator$</em> should be replaced with any of the supported generators. Some common ones:<ul>
<li><code>Visual Studio 15 2017 Win64</code> - Visual Studio 2017 (64-bit build)</li>
<li><code>Unix Makefiles</code></li>
<li><code>Ninja</code></li>
<li><code>Xcode</code></li>
<li>See all valid generators: <a href="https://cmake.org/cmake/help/latest/manual/cmake-generators.7.html">cmake-generators</a></li>
</ul>
</li>
<li>If your system complains that <code>cmake</code> is not a valid command, you need to add the path of CMake binaries to your $PATH environment variable</li>
</ul>
</li>
</ul>
<p>Your build files will be output to the <code>build</code> folder.</p><ul>
<li>If you are using Visual Studio open up the <code>build/myProject.sln</code> solution and proceed building as normal</li>
<li>If you are using XCode open up the project in the <code>build</code> folder and proceed building as normal</li>
<li>If you are using Makefiles simply run <code>make</code> within the <code>build</code> folder</li>
</ul>
<h2><a class="anchor" id="build_a_g"></a>
Copy files</h2>
<p>Before you can run the application you must first copy the data files and dynamic libraries so that your application can find them when it starts.</p><ul>
<li>Copy the <code>bin/Data</code> folder to the location where is your executable is located</li>
<li>If on Windows you should also copy any .dll files in the <code>bin</code> folder to where your executable is located. Note that precompiled binaries package comes with separate set of dynamic libraries for Debug and Release builds in <code>bin/Debug</code> and <code>bin/Release</code> folders. You should copy them to the appropriate folder depending on the configuration you are building with.</li>
</ul>
<p>For example in Visual Studio the executable will be placed at <code>x64/Release/</code> within your project root, for a 64-bit Release configuration. This is where you should place the dynamic libraries and the data files.</p>
<div class="image">
<img src="BuildStructure.png" alt="BuildStructure.png"/>
<div class="caption">
Structure of the executable folder on Windows</div></div>
 <h2><a class="anchor" id="build_a_h"></a>
Run</h2>
<p>You are now ready to run the application. If you used the default <code>Main.cpp</code> code above an empty window should open.</p>
<h1><a class="anchor" id="build_b"></a>
Link with source</h1>
<p>This is an alternative approach to linking with binaries. <code>bsf</code> source code will be included as part of your own project, making sure any changes you make can easily be compiled and tested.</p>
<h2><a class="anchor" id="build_b_a"></a>
Preparation</h2>
<p>First make sure to follow the compilation guide on <a href="https://github.com/GameFoundry/bsf">GitHub</a>. You only need to do the first few steps of that guide and ensure you have installed all the required dependencies, as well as checked out <code>bsf</code> from its repository. Actual CMake calls can be skipped at this point.</p>
<h2><a class="anchor" id="build_b_b"></a>
CMake project</h2>
<p>Create a new project folder, with a <code>CMakeLists.txt</code> file with the following contents: </p><div class="fragment"><div class="line"># Minimum version of CMake as required by bsf</div><div class="line">cmake_minimum_required (VERSION 3.9.0)</div><div class="line"></div><div class="line"># Name of your project</div><div class="line">project (myProject)</div><div class="line"></div><div class="line"># Let the system know where `bsf` source code is located</div><div class="line">set(BSF_DIRECTORY &quot;C:/bsf&quot; CACHE STRING &quot;bsf directory&quot;)</div><div class="line"></div><div class="line"># Include bsf projects and their CMake code</div><div class="line">include(${BSF_DIRECTORY}/Source/CMake/ProjectDefaults.cmake)</div><div class="line"></div><div class="line"># Build an executable from the provided C++ files</div><div class="line">add_executable(myApp &quot;Main.cpp&quot;)</div><div class="line"></div><div class="line"># Add bsf as a dependency</div><div class="line">target_link_libraries(myApp bsf)</div><div class="line"></div><div class="line"># Add required plugin bsf dependencies (as selected through CMake properties)</div><div class="line">add_engine_dependencies(myApp)</div><div class="line"></div><div class="line"># Add optional dependencies (specify all, some, or none of these as required)</div><div class="line">add_dependencies(myApp bsfFBXImporter bsfFontImporter bsfFreeImgImporter)</div><div class="line"></div><div class="line"># When &#39;myApp&#39; target is built, copy required binaries from bsf</div><div class="line">copyBsfBinaries(myApp ${BSF_DIRECTORY})</div></div><!-- fragment --><h2><a class="anchor" id="build_b_c"></a>
Code</h2>
<p>The CMake file above references <code>Main.cpp</code> file. The most basic file that runs the framework looks like so: </p><div class="fragment"><div class="line">#include &quot;BsApplication.h&quot;</div><div class="line"></div><div class="line">int main()</div><div class="line">{</div><div class="line">    using namespace bs;</div><div class="line"></div><div class="line">    VideoMode videoMode(1280, 720);</div><div class="line">    Application::startUp(videoMode, &quot;Example&quot;, false);</div><div class="line">    Application::instance().runMainLoop();</div><div class="line">    Application::shutDown();</div><div class="line"></div><div class="line">    return 0;</div><div class="line">}</div></div><!-- fragment --><p>We will explain the code above in following manuals, but for now you can just copy/paste it and use it for the starting point.</p>
<p>Place the <code>Main.cpp</code> into your project's root folder.</p>
<h2><a class="anchor" id="build_b_d"></a>
Build</h2>
<p>You are now ready to build the project. From your project's root folder execute the following commands in terminal/command line:</p><ul>
<li><code>mkdir build</code></li>
<li><code>cd build</code></li>
<li><code>cmake -G "$generator" ..</code><ul>
<li>Where <em>$generator$</em> should be replaced with any of the supported generators. Some common ones:<ul>
<li><code>Visual Studio 15 2017 Win64</code> - Visual Studio 2017 (64-bit build)</li>
<li><code>Unix Makefiles</code></li>
<li><code>Ninja</code></li>
<li><code>Xcode</code></li>
<li>See all valid generators: <a href="https://cmake.org/cmake/help/latest/manual/cmake-generators.7.html">cmake-generators</a></li>
</ul>
</li>
<li>If your system complains that <code>cmake</code> is not a valid command, you need to add the path of CMake binaries to your $PATH environment variable</li>
</ul>
</li>
</ul>
<p>Your build files will be output to the <code>build</code> folder.</p><ul>
<li>If you are using Visual Studio open up the <code>build/myProject.sln</code> solution and proceed building as normal</li>
<li>If you are using XCode open up the project in the <code>build</code> folder and proceed building as normal</li>
<li>If you are using Makefiles simply run <code>make</code> within the <code>build</code> folder</li>
</ul>
<p>After building any executables/dynamic libraries will be placed in the <code>bin</code> sub-folder in your project root, and any static/shared libraries will be placed in the <code>lib</code> sub-folder.</p>
<p>Unlike with <b>Link with binaries</b> approach you do not need to do any file copying, until you are ready to send the application to your users. After the build the application is ready to run. </p>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.10-->
<!-- start footer part -->
    <!-- Footer -->
    <div class="myFooter">
		<div class="ui inverted vertical footer segment" style="border-top: 2px solid #f9500d;">
			<div class="ui container">
				<div class="ui stackable inverted divided equal height grid">
					<div class="three wide column">
						<h4 class="ui inverted header">Contact</h4>
						<div class="ui inverted link list">
							<a href="mailto:contact@bsframework.io" class="item">Contact us</a>
							<a href="https://github.com/GameFoundry/bsf/issues" target="_blank" class="item">Report an issue</a>
						</div>
					</div>
					<div class="three wide column">
						<h4 class="ui inverted header">Info</h4>
						<div class="ui inverted link list">
							<a href="https://github.com/GameFoundry/bsf" target="_blank" class="item">Contribute</a>
							<a href="https://github.com/GameFoundry/bsf/blob/master/Documentation/GitHub/roadmap.md" target="_blank" class="item">Roadmap</a>
							<a href="https://github.com/GameFoundry/bsf/blob/master/LICENSE.md" target="_blank" class="item">License</a>
						</div>
					</div>
					<div class="seven wide column">
						<h4 class="ui inverted header">Donate</h4>
						<div class="ui horizontal list">
							<div class="item"><a href="https://www.patreon.com/bsf"><img class="ui image" src="become_a_patron_button.png"></a></div>
							<div class="item"><a href="https://www.paypal.me/MarkoPintera/10" target="_blank"><img class="ui image" src="paypalDonate.png"></a></div>
						</div>
						<p style="padding-top:7px"><i>bs::f</i> is developed by Marko Pintera and contributors.</p>
					</div>
				</div>
			</div>
		</div>
	</div>
</div> <!-- Everything -->
</body>
</html>
