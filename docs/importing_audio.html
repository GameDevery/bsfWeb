<!-- HTML header for doxygen 1.8.10-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<title>bs::f docs - Importing audio</title>
<link rel="icon" type="image/png" href="logo.png">
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href='http://fonts.googleapis.com/css?family=Lato:normal,bold|Cabin:normal,bold' rel='stylesheet' type='text/css'>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="../SemanticUI/semantic.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxystyle.css" rel="stylesheet" type="text/css"/>
<link href="../SemanticUI/semantic.css" rel="stylesheet" type="text/css">
</head>
<body>
<div class="everything">
	<div class="ui inverted vertical center aligned segment" id="menuSegment">
		<div class="ui container">
			<div class="ui inverted mainmenu menu">
				<a href="https://www.bsframework.io"><div class="item" id="logoItem"><img class="ui image" id="logo" src="logoHeader.png"></div></a>
				<div class="right menu">
					<a class="borderless item" href="https://www.bsframework.io">Home</a>
					<a class="item" href="https://www.bsframework.io/download.html">Download</a>
					<a class="item" href="https://discourse.bsframework.io">Community</a>
					<a class="active item" href="https://www.bsframework.io/docs/index.html">Documentation</a>
					<a class="item" href="https://github.com/gamefoundry/bsf"><i class="github icon"></i>GitHub</a>
				</div>
			</div>
		</div>
	</div>	
	<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Importing audio </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#importingAudio_a">Customizing import</a><ul><li class="level2"><a href="#importingAudio_a_a">Audio format</a></li>
<li class="level2"><a href="#importingAudio_a_b">Streaming/decompression</a></li>
<li class="level2"><a href="#importingAudio_a_c">Bit depth</a></li>
<li class="level2"><a href="#importingAudio_a_d">2D/3D</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><p>Audio in bs::f is represented in the form of an <a class="el" href="classbs_1_1_audio_clip.html">AudioClip</a> object. An audio clip is a resource, meaning it can be imported, saved and loaded as we described in the resource manuals.</p>
<p>Different audio file formats are supported depending on which audio backend is used:</p><ul>
<li>OpenAudio (default)<ul>
<li>.FLAC</li>
<li>.OGG</li>
<li>.WAV</li>
</ul>
</li>
<li>FMOD<ul>
<li>.AIFF</li>
<li>.ASF</li>
<li>.ASX</li>
<li>.DLS</li>
<li>.FLAC</li>
<li>.MIDI</li>
<li>.MP3</li>
<li>.OGG</li>
<li>.WAV</li>
<li>.WMA</li>
</ul>
</li>
</ul>
<div class="fragment"><div class="line"><span class="comment">// Import an audio clip from disk</span></div><div class="line">HAudioClip clip = <a class="code" href="group___importer.html#gafda9808bfcae11afa60eee731056225e">gImporter</a>().<a class="code" href="classbs_1_1_importer.html#a956425fa45716612e04b109701bdd62f">import</a>&lt;AudioClip&gt;(<span class="stringliteral">&quot;myAudioClip.ogg&quot;</span>);</div></div><!-- fragment --><h1><a class="anchor" id="importingAudio_a"></a>
Customizing import</h1>
<p>Import can be customized by providing a <a class="el" href="classbs_1_1_audio_clip_import_options.html">AudioClipImportOptions</a> object to the importer.</p>
<div class="fragment"><div class="line"><span class="keyword">auto</span> importOptions = AudioClipImportOptions::create();</div><div class="line"><span class="comment">// Set required options here (as described below)</span></div><div class="line"></div><div class="line">HAudioClip clip = <a class="code" href="group___importer.html#gafda9808bfcae11afa60eee731056225e">gImporter</a>().<a class="code" href="classbs_1_1_importer.html#a956425fa45716612e04b109701bdd62f">import</a>&lt;AudioClip&gt;(<span class="stringliteral">&quot;myAudioClip.ogg&quot;</span>, importOptions);</div></div><!-- fragment --><p>A variety of properties can be customized on import, the most important of which being audio format, compression/streaming mode, bit depth and 2D/3D toggle.</p>
<h2><a class="anchor" id="importingAudio_a_a"></a>
Audio format</h2>
<p>Audio format determines in what format will audio data be stored in, once imported. It is controlled by <a class="el" href="classbs_1_1_audio_clip_import_options.html#a468c149cb42fd09b67d2d427fc077eba">AudioClipImportOptions::setFormat()</a> which accepts <a class="el" href="group___audio.html#ga98d5d077cca088ddf77314871474fe59">AudioFormat</a> enumeration as a parameter.</p>
<p>There are only two formats supported:</p><ul>
<li>PCM - This is raw uncompressed audio data stored in pulse-code modulation format</li>
<li>Vorbis - This is compressed audio data stored in the Vorbis format</li>
</ul>
<p>In most cases you want to use the Vorbis compressed format, in order to save on memory use. Using uncompressed audio can be useful when:</p><ul>
<li>No quality loss can be accepted</li>
<li>CPU overhead of decompression is too high (see streaming/decompression section below)</li>
</ul>
<div class="fragment"><div class="line">importOptions-&gt;setFormat(AudioFormat::Vorbis);</div></div><!-- fragment --><h2><a class="anchor" id="importingAudio_a_b"></a>
Streaming/decompression</h2>
<p>When an audio clip is loaded for playback, you can choose how is its data accessed, in order to tweak required memory and/or CPU usage by setting the read mode though <a class="el" href="classbs_1_1_audio_clip_import_options.html#a9d145c3ed2684801af5894c7bc8b2f17">AudioClipImportOptions::setReadMode()</a>.</p>
<p>Available read modes are part of the <a class="el" href="group___audio.html#gac5cca56c3446f447ca27949c628ce47d">AudioReadMode</a> enumeration. They are:</p><ul>
<li><b>LoadDecompressed</b> - When an audio clip is first loaded it will immediately be decompressed in entirety, and playback will then proceed by using the uncompressed version. This uses more memory as the uncompressed clip is present in its entirety in memory, but has very small CPU overhead during playback due to it not requiring decompression. This option is not relevant for clips in PCM format, as they are already decompressed.</li>
<li><b>LoadCompressed</b> - Audio clip will be loaded compressed into memory, and then decompressed as the playback requires. This requires only the decompressed audio data to be in memory, having much smaller memory footprint than the method above. However it has a higher CPU overhead as decompression is done on-the-fly. This option is not relevant for clips in PCM format, as they are already decompressed.</li>
<li><b>Streaming</b> - Audio clip data will not be loaded into memory until playback starts. At that point only the required portion of the clip will be loaded and older portions unloaded, as playback proceeds. If the source data is compressed, this means the decompression is also performed on-the-fly, same as with <b>LoadCompressed</b>. This uses the least amount of memory, since it doesn't require the audio clip to be loaded fully in memory, but has a decompression overhead if source is compressed(same as <b>LoadCompressed</b>), as well as a IO overhead as it needs to read data from the storage device during playback.</li>
</ul>
<p>In most cases you will want to use <b>LoadCompressed</b> for smaller audio clips (like audio cues), and <b>Streaming</b> for longer clips (like music).</p>
<div class="fragment"><div class="line">importOptions-&gt;setReadMode(AudioReadMode::LoadCompressed);</div></div><!-- fragment --><h2><a class="anchor" id="importingAudio_a_c"></a>
Bit depth</h2>
<p><a class="el" href="classbs_1_1_audio_clip_import_options.html#ad869866c8a10f909bb5fdcfdcbddfd65">AudioClipImportOptions::setBitDepth()</a> controls how many bits will a single audio sample be stored in. Smaller values yield smaller memory footprint, but lesser quality, and the other way around.</p>
<p>In general value of 16 is enough (the default). Other accepted values are 8, 24 and 32.</p>
<div class="fragment"><div class="line">importOptions-&gt;setBitDepth(24);</div></div><!-- fragment --><h2><a class="anchor" id="importingAudio_a_d"></a>
2D/3D</h2>
<p>Audio files can be played back in 2D or 3D mode. 2D audio is the familiar audio playback, like music. 3D audio will control playback volume, pitch and other properties based on the position and velocity of the listener compared to the audio source. This can be controlled by setting the <a class="el" href="classbs_1_1_audio_clip_import_options.html#a5ec425d11010c139e05459fa4455ebdc">AudioClipImportOptions::setIs3D()</a>. Note this is on by default.</p>
<p>In general you want to use 2D audio for music or narration, and 3D audio for audio cues, in-game character voices and similar.</p>
<div class="fragment"><div class="line">importOptions-&gt;setIs3D(<span class="keyword">false</span>);</div></div><!-- fragment --> </div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.10-->
<!-- start footer part -->
    <!-- Footer -->
    <div class="myFooter">
		<div class="ui inverted vertical footer segment" style="border-top: 2px solid #f9500d;">
			<div class="ui container">
				<div class="ui stackable inverted divided equal height grid">
					<div class="three wide column">
						<h4 class="ui inverted header">Contact</h4>
						<div class="ui inverted link list">
							<a href="mailto:contact@bsframework.io" class="item">Contact us</a>
							<a href="https://github.com/GameFoundry/bsf/issues" target="_blank" class="item">Report an issue</a>
						</div>
					</div>
					<div class="three wide column">
						<h4 class="ui inverted header">Info</h4>
						<div class="ui inverted link list">
							<a href="https://github.com/GameFoundry/bsf" target="_blank" class="item">Contribute</a>
							<a href="https://github.com/GameFoundry/bsf/blob/master/Documentation/GitHub/roadmap.md" target="_blank" class="item">Roadmap</a>
							<a href="https://github.com/GameFoundry/bsf/blob/master/LICENSE.md" target="_blank" class="item">License</a>
						</div>
					</div>
					<div class="seven wide column">
						<h4 class="ui inverted header">Donate</h4>
						<div class="ui horizontal list">
							<div class="item"><a href="https://www.patreon.com/bsf"><img class="ui image" src="become_a_patron_button.png"></a></div>
							<div class="item"><a href="https://www.paypal.me/MarkoPintera/10" target="_blank"><img class="ui image" src="paypalDonate.png"></a></div>
						</div>
						<p style="padding-top:7px"><i>bs::f</i> is developed by Marko Pintera and contributors.</p>
					</div>
				</div>
			</div>
		</div>
	</div>
</div> <!-- Everything -->
</body>
</html>
