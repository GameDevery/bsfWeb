<!-- HTML header for doxygen 1.8.10-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-120676613-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-120676613-1');
</script>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<title>bs::f docs - Meshes</title>
<link rel="icon" type="image/png" href="logo.png">
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href='https://fonts.googleapis.com/css?family=Lato:normal,bold|Cabin:normal,bold' rel='stylesheet' type='text/css'>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="SemanticUI/semantic.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxystyle.css" rel="stylesheet" type="text/css"/>
<link href="SemanticUI/semantic.css" rel="stylesheet" type="text/css">
</head>
<body>
<div class="everything">
	<div class="ui inverted vertical center aligned segment" id="menuSegment">
		<div class="ui container">
			<div class="ui inverted mainmenu menu">
				<a href="https://www.bsframework.io"><div class="item" id="logoItem"><img class="ui image" id="logo" src="logoHeader.png"></div></a>
				<div class="right menu">
					<a class="borderless item" href="https://www.bsframework.io">Home</a>
					<a class="item" href="https://www.bsframework.io/download.html">Download</a>
					<a class="item" href="https://discourse.bsframework.io">Community</a>
					<a class="active item" href="https://www.bsframework.io/docs/index.html">Documentation</a>
					<a class="item" href="https://github.com/gamefoundry/bsf"><i class="github icon"></i>GitHub</a>
				</div>
			</div>
		</div>
	</div>	
	<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Meshes </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#importingMeshes_a">Importing a mesh</a></li>
<li class="level1"><a href="#importingMeshes_b">Creating a mesh</a></li>
<li class="level1"><a href="#importingMeshes_c">Mesh properties</a></li>
<li class="level1"><a href="#importingMeshes_d">Customizing import</a><ul><li class="level2"><a href="#importingMeshes_d_a">Scale</a></li>
<li class="level2"><a href="#importingMeshes_d_b">Normals</a></li>
<li class="level2"><a href="#importingMeshes_d_c">Tangent</a></li>
<li class="level2"><a href="#importingMeshes_d_d">Caching</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><p>Meshes are used for defining surfaces of 2D and 3D objects, and are the primary building blocks of the scene. In bs::f meshes are represented with the <a class="el" href="classbs_1_1_mesh.html">Mesh</a> class. A mesh is a resource, meaning it can be imported, saved and loaded as any other resource.</p>
<div class="image">
<img src="DragonWireframe.png" alt="DragonWireframe.png"/>
<div class="caption">
Wireframe mesh</div></div>
<h1><a class="anchor" id="importingMeshes_a"></a>
Importing a mesh</h1>
<p>Meshes can be imported from various third party formats, using the importer.</p>
<div class="fragment"><div class="line"><span class="comment">// Import a mesh named &quot;dragon.fbx&quot; from the disk</span></div><div class="line">HMesh mesh = <a class="code" href="group___importer.html#gafda9808bfcae11afa60eee731056225e">gImporter</a>().<a class="code" href="classbs_1_1_importer.html#a956425fa45716612e04b109701bdd62f">import</a>&lt;Mesh&gt;(<span class="stringliteral">&quot;dragon.fbx&quot;</span>);</div></div><!-- fragment --><p>Supported formats are:</p><ul>
<li>FBX</li>
<li>DAE</li>
<li>OBJ</li>
</ul>
<h1><a class="anchor" id="importingMeshes_b"></a>
Creating a mesh</h1>
<p>Meshes can also be created manually, which we cover later in the <a class="el" href="creating_meshes.html">creating meshes</a> manual.</p>
<h1><a class="anchor" id="importingMeshes_c"></a>
Mesh properties</h1>
<p>Once a mesh has been imported, you can retrieve its properties like vertex &amp; index counts, as well as its bounds by calling <a class="el" href="classbs_1_1_mesh_base.html#a53e6ac41745ada6020e657df32139595">Mesh::getProperties()</a>, which returns a <a class="el" href="classbs_1_1_mesh_properties.html">MeshProperties</a> object.</p>
<div class="fragment"><div class="line"><span class="comment">// Retrieve and print out various mesh properties</span></div><div class="line"><span class="keyword">auto</span>&amp; props = mesh-&gt;getProperties();</div><div class="line"></div><div class="line"><a class="code" href="group___debug.html#ga3d2df36e0b331304f012c778c43d86a9">gDebug</a>().<a class="code" href="classbs_1_1_debug.html#acb8d76b720a9ce83aff8bcef5340151b">logDebug</a>(<span class="stringliteral">&quot;Num. vertices: &quot;</span> + <a class="code" href="group___string.html#ga852e40fdd80b537b8ccf93e9cefe0e2b">toString</a>(props.getNumVertices()));</div><div class="line"><a class="code" href="group___debug.html#ga3d2df36e0b331304f012c778c43d86a9">gDebug</a>().<a class="code" href="classbs_1_1_debug.html#acb8d76b720a9ce83aff8bcef5340151b">logDebug</a>(<span class="stringliteral">&quot;Num. indices: &quot;</span> + <a class="code" href="group___string.html#ga852e40fdd80b537b8ccf93e9cefe0e2b">toString</a>(props.getNumIndices()));</div><div class="line"><a class="code" href="group___debug.html#ga3d2df36e0b331304f012c778c43d86a9">gDebug</a>().<a class="code" href="classbs_1_1_debug.html#acb8d76b720a9ce83aff8bcef5340151b">logDebug</a>(<span class="stringliteral">&quot;Radius: &quot;</span> + <a class="code" href="group___string.html#ga852e40fdd80b537b8ccf93e9cefe0e2b">toString</a>(props.getBounds().getSphere().getRadius()));</div></div><!-- fragment --><blockquote class="doxtable">
<p>The debug logging functionality is explained in the <a class="el" href="logging.html">logging</a> manual. </p>
</blockquote>
<h1><a class="anchor" id="importingMeshes_d"></a>
Customizing import</h1>
<p>Mesh import can be customized by providing a <a class="el" href="classbs_1_1_mesh_import_options.html">MeshImportOptions</a> object to the importer.</p>
<div class="fragment"><div class="line"><span class="keyword">auto</span> importOptions = MeshImportOptions::create();</div><div class="line"><span class="comment">// Set required options here (as described below)</span></div><div class="line"></div><div class="line">HMesh mesh = <a class="code" href="group___importer.html#gafda9808bfcae11afa60eee731056225e">gImporter</a>().<a class="code" href="classbs_1_1_importer.html#a956425fa45716612e04b109701bdd62f">import</a>&lt;Mesh&gt;(<span class="stringliteral">&quot;dragon.fbx&quot;</span>, importOptions);</div></div><!-- fragment --><p>Lets see some of the options you can use for customizing import.</p>
<h2><a class="anchor" id="importingMeshes_d_a"></a>
Scale</h2>
<p><a class="el" href="classbs_1_1_mesh_import_options.html#a7f1e92f69218c33b6acd60bf910daae1">MeshImportOptions::setImportScale()</a> allows you to apply a uniform scale value to the mesh upon import. Although you can scale the size of a rendered mesh by adjusting the <b>SceneObject</b> transform when its placed in the scene, sometimes it is more useful to be able to do it once at import instead of every time you place it.</p>
<div class="fragment"><div class="line"><span class="comment">// Reduce the size of the mesh to 10% of its original size</span></div><div class="line">importOptions-&gt;setImportScale(0.1f);</div></div><!-- fragment --><h2><a class="anchor" id="importingMeshes_d_b"></a>
Normals</h2>
<p><a class="el" href="classbs_1_1_mesh_import_options.html#a5ec930c527d91aabe87417061c8c7d82">MeshImportOptions::setImportNormals()</a> controls whether normal vectors are imported from the mesh file.</p>
<p>Normal vectors are used in lighting and are required for any meshes placed in the 3D scene (unless rendering them manually using some custom method). They allow the mesh to appear smooth even though its surface is made out of triangles.</p>
<p>Most 3D authoring tools generate normals for their meshes, but if normals are not present in the mesh file, bs::f will attempt to generate normals automatically when this option is turned on.</p>
<div class="fragment"><div class="line"><span class="comment">// Import or generate normals for the mesh</span></div><div class="line">importOptions-&gt;setImportNormals(<span class="keyword">true</span>);</div></div><!-- fragment --><h2><a class="anchor" id="importingMeshes_d_c"></a>
Tangent</h2>
<p><a class="el" href="classbs_1_1_mesh_import_options.html#adc90f94dcd56631b6774888c98806e10">MeshImportOptions::setImportTangents()</a> controls whether tangent vectors are imported from the mesh file.</p>
<p>Tangent vectors (along with normal vectors) are required if your rendering shader uses normal maps. Similar to normals, if tangents are not present in the mesh file, bs::f will attempt to generate them automatically.</p>
<div class="fragment"><div class="line"><span class="comment">// Import or generate normals for the mesh</span></div><div class="line">importOptions-&gt;setImportTangents(<span class="keyword">true</span>);</div></div><!-- fragment --><h2><a class="anchor" id="importingMeshes_d_d"></a>
Caching</h2>
<p>Sometimes you need to import a mesh you don't want to only use for rendering, but rather for manually reading its contents. When that's the case you can enable the <a class="el" href="classbs_1_1_mesh_import_options.html#a63cb32f6f7bd9b2d67e6d5ad698e210a">MeshImportOptions::setCPUCached()</a> option.</p>
<p>This will allow you to call <a class="el" href="classbs_1_1_mesh.html#a455ccaa5f423c9a01dd806fa004e78b3">Mesh::readCachedData()</a> and to manually read individual vertices and indices of the mesh.</p>
<p>Note that caching a mesh means its data will be available in system memory, essentially doubling its memory usage.</p>
<div class="fragment"><div class="line"><span class="comment">// Enable caching</span></div><div class="line">importOptions-&gt;setCPUCached(<span class="keyword">true</span>);</div><div class="line"></div><div class="line"><span class="comment">// Import mesh</span></div><div class="line">HMesh mesh = <a class="code" href="group___importer.html#gafda9808bfcae11afa60eee731056225e">gImporter</a>().<a class="code" href="classbs_1_1_importer.html#a956425fa45716612e04b109701bdd62f">import</a>&lt;Mesh&gt;(<span class="stringliteral">&quot;dragon.fbx&quot;</span>, importOptions);</div><div class="line"></div><div class="line"><span class="comment">// Allocate a buffer to hold mesh contents</span></div><div class="line"><span class="comment"></span>SPtr&lt;VertexDataDesc&gt; vertexDesc = VertexDataDesc::create();</div><div class="line">vertexDesc-&gt;addVertElem(<a class="code" href="group___render_a_p_i.html#ggaff1f9fa06412cc13e0917617b7e8d0b3ae4a5d54927b375d5a3225252b46b7666">VET_FLOAT3</a>, <a class="code" href="group___render_a_p_i.html#ggaefea8c317b80104ca23292be815de16ca0544fdfda9308d37ae798590df511a18">VES_POSITION</a>);</div><div class="line"></div><div class="line">SPtr&lt;MeshData&gt; meshData = MeshData::create(8, 36, vertexDesc);</div><div class="line"></div><div class="line"><span class="comment">// Read cached data</span></div><div class="line">mesh-&gt;readCachedData(*meshData);</div><div class="line"></div><div class="line"><span class="comment">// Read vertex positions</span></div><div class="line">Vector&lt;Vector3&gt; vertices(8);</div><div class="line">meshData-&gt;getVertexData(<a class="code" href="group___render_a_p_i.html#ggaefea8c317b80104ca23292be815de16ca0544fdfda9308d37ae798590df511a18">VES_POSITION</a>, vertices.data(), vertices.size() * <span class="keyword">sizeof</span>(Vector3));</div><div class="line">...</div></div><!-- fragment --><blockquote class="doxtable">
<p><b>MeshData</b> is explained later in the <a class="el" href="creating_meshes.html">creating meshes</a> manual. </p>
</blockquote>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.10-->
<!-- start footer part -->
    <!-- Footer -->
    <div class="myFooter">
		<div class="ui inverted vertical footer segment" style="border-top: 2px solid #f9500d;">
			<div class="ui container">
				<div class="ui stackable inverted divided equal height grid">
					<div class="three wide column">
						<h4 class="ui inverted header">Contact</h4>
						<div class="ui inverted link list">
							<a href="mailto:contact@bsframework.io" class="item">Contact us</a>
							<a href="https://github.com/GameFoundry/bsf/issues" target="_blank" class="item">Report an issue</a>
						</div>
					</div>
					<div class="three wide column">
						<h4 class="ui inverted header">Info</h4>
						<div class="ui inverted link list">
							<a href="https://github.com/GameFoundry/bsf" target="_blank" class="item">Contribute</a>
							<a href="https://github.com/GameFoundry/bsf/blob/master/Documentation/GitHub/roadmap.md" target="_blank" class="item">Roadmap</a>
							<a href="https://github.com/GameFoundry/bsf/blob/master/LICENSE.md" target="_blank" class="item">License</a>
						</div>
					</div>
					<div class="seven wide column">
						<h4 class="ui inverted header">Donate</h4>
						<div class="ui horizontal list">
							<div class="item"><a href="https://www.patreon.com/bsf"><img class="ui image" src="become_a_patron_button.png"></a></div>
							<div class="item"><a href="https://www.paypal.me/MarkoPintera/10" target="_blank"><img class="ui image" src="paypalDonate.png"></a></div>
						</div>
						<p style="padding-top:7px"><i>bs::f</i> is developed by Marko Pintera and contributors.</p>
					</div>
				</div>
			</div>
		</div>
	</div>
</div> <!-- Everything -->
</body>
</html>
