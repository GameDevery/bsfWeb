<!-- HTML header for doxygen 1.8.10-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<title>bs::f docs - Non-component approach</title>
<link rel="icon" type="image/png" href="logo.png">
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href='https://fonts.googleapis.com/css?family=Lato:normal,bold|Cabin:normal,bold' rel='stylesheet' type='text/css'>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="SemanticUI/semantic.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxystyle.css" rel="stylesheet" type="text/css"/>
<link href="SemanticUI/semantic.css" rel="stylesheet" type="text/css">
</head>
<body>
<div class="everything">
	<div class="ui inverted vertical center aligned segment" id="menuSegment">
		<div class="ui container">
			<div class="ui inverted mainmenu menu">
				<a href="https://www.bsframework.io"><div class="item" id="logoItem"><img class="ui image" id="logo" src="logoHeader.png"></div></a>
				<div class="right menu">
					<a class="borderless item" href="https://www.bsframework.io">Home</a>
					<a class="item" href="https://www.bsframework.io/download.html">Download</a>
					<a class="item" href="https://discourse.bsframework.io">Community</a>
					<a class="active item" href="https://www.bsframework.io/docs/index.html">Documentation</a>
					<a class="item" href="https://github.com/gamefoundry/bsf"><i class="github icon"></i>GitHub</a>
				</div>
			</div>
		</div>
	</div>	
	<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Non-component approach </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#nonComponentApproach_a">Scene actors</a><ul><li class="level2"><a href="#nonComponentApproach_a_a">Transform</a></li>
</ul>
</li>
<li class="level1"><a href="#nonComponentApproach_b">Running custom logic</a></li>
</ul>
</div>
<div class="textblock"><p>bs::f provides an alternate API to its scene-object/component model. It provides a more traditional way of dealing with gameplay logic at the cost of more complexity, but with potentially more freedom. Note that this is a fully optional approach and just another way of doing what we have described so far.</p>
<h1><a class="anchor" id="nonComponentApproach_a"></a>
Scene actors</h1>
<p>Each <b>Component</b> class has a corresponding <a class="el" href="classbs_1_1_scene_actor.html">SceneActor</a>, which shares the same name as the component without the "C" prefix (e.g. <a class="el" href="classbs_1_1_renderable.html">Renderable</a> scene actor vs. <b>CRenderable</b> component)).</p>
<blockquote class="doxtable">
<p>Note that throughout this manual we have often referred to components without using the "C" prefix, but in this manual we are referring to the scene actor. </p>
</blockquote>
<p>To create a scene actor you should call its static <b>create()</b> method. A scene actor is not attached to a <b>SceneObject</b> and it instead stands on its own.</p>
<div class="fragment"><div class="line"><span class="comment">// Creating a renderable actor</span></div><div class="line">SPtr&lt;Renderable&gt; renderable = Renderable::create();</div></div><!-- fragment --><p>Scene actors and components share most of the same functionality and methods, although scene actors sometimes require some additional setup (for example an <b>CAnimation</b> component is able to find its child <b>CBone</b> components automatically, but with scene actors you must connect them manually). Since the majority of the interface is the same we won't talk about individual actor types, and you can instead refer to the API reference.</p>
<div class="fragment"><div class="line">HMesh mesh = ...;</div><div class="line">HMaterial material = ...;</div><div class="line"></div><div class="line"><span class="comment">// Set up Renderable actor&#39;s mesh and material identically as we would a CRenderable component</span></div><div class="line">renderable-&gt;setMesh(mesh);</div><div class="line">renderable-&gt;setMaterial(material);</div></div><!-- fragment --><h2><a class="anchor" id="nonComponentApproach_a_a"></a>
Transform</h2>
<p>Each scene actor has a <b>Transform</b> object you can use to position and orient it in the scene. The transform can be accessed through <a class="el" href="classbs_1_1_scene_actor.html#af5a60b58073888a2eaae734ffd723aa6">SceneActor::getTransform()</a> and <a class="el" href="classbs_1_1_scene_actor.html#a06c5cba18a2af9d40679c4b6207d079d">SceneActor::setTransform()</a>. It can be manipulated the same as you would a <b>Transform</b> on a <b>SceneObject</b>.</p>
<div class="fragment"><div class="line">Transform tfrm = renderable-&gt;getTransform();</div><div class="line">tfrm.setPosition(Vector3(0.0f, 50.0f, 0.0f));</div><div class="line">renderable-&gt;setTransform(tfrm);</div></div><!-- fragment --><h1><a class="anchor" id="nonComponentApproach_b"></a>
Running custom logic</h1>
<p>When you use scene objects and components to set up your scene, you do so before calling the main loop. During the main loop the system will call various callbacks in which you can implement your game logic. But without components we need a different way of executing gameplay logic.</p>
<p>To do this we need to change how we start the application. You will need to create your own version of the <b>Application</b> class by deriving from it. Once derived you can override any of the following methods:</p><ul>
<li><a class="el" href="classbs_1_1_application.html#acda177ab29943d98383f0aa5cf720d6d">Application::onStartUp()</a> - Called when the application is first starting up.</li>
<li><a class="el" href="classbs_1_1_application.html#a920e8326cba13f15e736d1fccfb021e1">Application::preUpdate()</a> - Called every frame, just before component and plugin updates are triggered.</li>
<li><a class="el" href="classbs_1_1_application.html#abe658f8839a50cff4334c2b80b64c20b">Application::postUpdate()</a> - Called every frame, after component and plugin updates are triggered.</li>
<li><a class="el" href="classbs_1_1_application.html#ac3483fe445944df732765319c070cae0">Application::onShutDown()</a> - Called just before the application is about to shut down.</li>
</ul>
<div class="fragment"><div class="line"><span class="keyword">class </span>MyApplication : <span class="keyword">public</span> Application</div><div class="line">{</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="comment">// Pass along the start-up structure to the parent</span></div><div class="line">    MyApplication(<span class="keyword">const</span> START_UP_DESC&amp; desc)</div><div class="line">        :Application(desc)</div><div class="line">    { }</div><div class="line"></div><div class="line"><span class="keyword">private</span>:</div><div class="line">    <span class="keywordtype">void</span> onStartUp()<span class="keyword"> override</span></div><div class="line"><span class="keyword">    </span>{</div><div class="line">        <span class="comment">// Ensure all parent systems are initialized first</span></div><div class="line">        Application::onStartUp();</div><div class="line"></div><div class="line">        <span class="comment">// Do your own initialization</span></div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordtype">void</span> onShutDown()<span class="keyword"> override</span></div><div class="line"><span class="keyword">    </span>{</div><div class="line">        <span class="comment">// Do your own shut-down</span></div><div class="line"></div><div class="line">        <span class="comment">// Shut-down engine components</span></div><div class="line">        Application::onShutDown();</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordtype">void</span> preUpdate()<span class="keyword"> override</span></div><div class="line"><span class="keyword">    </span>{</div><div class="line">        <span class="comment">// Execute per-frame logic (optionally do it in postUpdate)</span></div><div class="line">    }</div><div class="line">};</div></div><!-- fragment --><p>Once you have your own application override, you can now start the application by calling <a class="el" href="classbs_1_1_application.html#a2fb825e05ad989f27b80912aca672434">Application::startUp&lt;T&gt;()</a> with the template parameter being your application override class. Everything else regarding start-up remains the same.</p>
<div class="fragment"><div class="line">Application::startUp&lt;MyApplication&gt;(VideoMode(1280, 720), <span class="stringliteral">&quot;My app&quot;</span>, <span class="keyword">false</span>);</div><div class="line"></div><div class="line"><span class="comment">// Set up your scene here</span></div><div class="line"></div><div class="line">Application::instance().runMainLoop();</div><div class="line">Application::shutDown();</div></div><!-- fragment --><p>Having access to start-up, shut-down and update methods directly allows you to write your game logic as you see fit, without having to follow the <b>Component</b> interface. </p>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.10-->
<!-- start footer part -->
    <!-- Footer -->
    <div class="myFooter">
		<div class="ui inverted vertical footer segment" style="border-top: 2px solid #f9500d;">
			<div class="ui container">
				<div class="ui stackable inverted divided equal height grid">
					<div class="three wide column">
						<h4 class="ui inverted header">Contact</h4>
						<div class="ui inverted link list">
							<a href="mailto:contact@bsframework.io" class="item">Contact us</a>
							<a href="https://github.com/GameFoundry/bsf/issues" target="_blank" class="item">Report an issue</a>
						</div>
					</div>
					<div class="three wide column">
						<h4 class="ui inverted header">Info</h4>
						<div class="ui inverted link list">
							<a href="https://github.com/GameFoundry/bsf" target="_blank" class="item">Contribute</a>
							<a href="https://github.com/GameFoundry/bsf/blob/master/Documentation/GitHub/roadmap.md" target="_blank" class="item">Roadmap</a>
							<a href="https://github.com/GameFoundry/bsf/blob/master/LICENSE.md" target="_blank" class="item">License</a>
						</div>
					</div>
					<div class="seven wide column">
						<h4 class="ui inverted header">Donate</h4>
						<div class="ui horizontal list">
							<div class="item"><a href="https://www.patreon.com/bsf"><img class="ui image" src="become_a_patron_button.png"></a></div>
							<div class="item"><a href="https://www.paypal.me/MarkoPintera/10" target="_blank"><img class="ui image" src="paypalDonate.png"></a></div>
						</div>
						<p style="padding-top:7px"><i>bs::f</i> is developed by Marko Pintera and contributors.</p>
					</div>
				</div>
			</div>
		</div>
	</div>
</div> <!-- Everything -->
</body>
</html>
