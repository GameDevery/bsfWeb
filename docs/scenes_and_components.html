<!-- HTML header for doxygen 1.8.10-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<title>bs::f docs - Scene objects and components</title>
<link rel="icon" type="image/png" href="logo.png">
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href='http://fonts.googleapis.com/css?family=Lato:normal,bold|Cabin:normal,bold' rel='stylesheet' type='text/css'>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="../SemanticUI/semantic.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxystyle.css" rel="stylesheet" type="text/css"/>
<link href="../SemanticUI/semantic.css" rel="stylesheet" type="text/css">
</head>
<body>
<div class="everything">
	<div class="ui inverted vertical center aligned segment" id="menuSegment">
		<div class="ui container">
			<div class="ui inverted mainmenu menu">
				<a href="https://www.bsframework.io"><div class="item" id="logoItem"><img class="ui image" id="logo" src="logoHeader.png"></div></a>
				<div class="right menu">
					<a class="borderless item" href="https://www.bsframework.io">Home</a>
					<a class="item" href="https://www.bsframework.io/download.html">Download</a>
					<a class="item" href="https://discourse.bsframework.io">Community</a>
					<a class="active item" href="https://www.bsframework.io/docs/index.html">Documentation</a>
					<a class="item" href="https://github.com/gamefoundry/bsf"><i class="github icon"></i>GitHub</a>
				</div>
			</div>
		</div>
	</div>	
	<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Scene objects and components </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#scenesAndComponents_a">Handles</a></li>
<li class="level1"><a href="#scenesAndComponents_b">Scene object creation and destruction</a></li>
<li class="level1"><a href="#scenesAndComponents_c">Transforming scene objects</a></li>
<li class="level1"><a href="#scenesAndComponents_d">Scene object hierarchy</a></li>
<li class="level1"><a href="#scenesAndComponents_e">Components</a></li>
</ul>
</div>
<div class="textblock"><p>All scenes in bs::f are constructed from scene objects. Each scene object is a part of the scene hierarchy, and can have a parent scene object and zero or multiple child scene objects. Each scene object can also be positioned, oriented and scaled within the scene.</p>
<p>Components can be attached to scene objects - each scene object can have zero or multiple components attached to it. Components provide various functionality and contain the logic for your game. For example there is a <b>Camera</b> component that lets the user see into the scene, or a <b>Renderable</b> component that represents a single 3D mesh in the scene.</p>
<p>Once your scene has been set up the engine takes care of everything else, like rendering your meshes. You may also create your own components to put custom game logic in, receive events from the game, process input and manipulate the scene after initial set up. We will go into detail on how to create custom components later.</p>
<p>Let see an example where we add a single scene object to the scene, position it, and attach a <b>Renderable</b> component to it. For now you do not need to know exactly how <b>Renderable</b> component works, as we will explain that later. Focus rather on how a scene object is set up and and how components are added to it.</p>
<div class="fragment"><div class="line"><span class="comment">// Create a brand new scene object named My Object. It is placed at the root </span></div><div class="line"><span class="comment">// of the scene hierarchy, at position (0, 0, 0)</span></div><div class="line">HSceneObject so = SceneObject::create(<span class="stringliteral">&quot;My object&quot;</span>);</div><div class="line"></div><div class="line"><span class="comment">// Change position of the object</span></div><div class="line">so-&gt;setPosition(Vector3(0, 30, 0));</div><div class="line"></div><div class="line"><span class="comment">// Add a Renderable component to the scene object</span></div><div class="line">HRenderable renderable = so-&gt;addComponent&lt;CRenderable&gt;();</div></div><!-- fragment --><blockquote class="doxtable">
<p>As a convention, almost all complex classes in bs::f use the static <b>create</b> method as a way to create new objects. More simple classes and structures, like <b>Vector3</b>, use the traditional constructors instead. </p>
</blockquote>
<h1><a class="anchor" id="scenesAndComponents_a"></a>
Handles</h1>
<p>Whenever you wish to keep a reference to a scene object or a component you do so via a handle. They are represented with classes prefixed with an "H", as you might have noticed in the example above.</p>
<p>Scene objects are always referenced using the <b>HSceneObject</b> handle, while components have handles named with an "H" prefix, followed by the component name (e.g. <b>HRenderable</b> for the <b>Renderable</b> component).</p>
<p>You may treat the handles as pointers, using "-&gt;" to access their members, comparing them for equality or with <em>nullptr</em> to check their validity.</p>
<h1><a class="anchor" id="scenesAndComponents_b"></a>
Scene object creation and destruction</h1>
<p>We have already shown how to use <a class="el" href="classbs_1_1_scene_object.html#ab5a02b810c3352a8fa63f5cee787d36f">SceneObject::create()</a> to create a new scene object.</p>
<p>If you wish to destroy a scene object call <a class="el" href="classbs_1_1_scene_object.html#a74f96a20c233aabd50a8dc6068084300">SceneObject::destroy()</a>. Note that destroying a scene object will destroy all of the components attached to it, as well as any child scene objects.</p>
<div class="fragment"><div class="line"><span class="comment">// Create a scene object</span></div><div class="line">HSceneObject so = SceneObject::create(<span class="stringliteral">&quot;My object&quot;</span>);</div><div class="line"></div><div class="line"><span class="comment">// Destroy the scene object</span></div><div class="line">so-&gt;destroy();</div></div><!-- fragment --><h1><a class="anchor" id="scenesAndComponents_c"></a>
Transforming scene objects</h1>
<p>You can change scene object position, orientation and scale using <a class="el" href="classbs_1_1_scene_object.html#af379928d936898c85a3717e4f2d49a4c">SceneObject::setPosition()</a>, <a class="el" href="classbs_1_1_scene_object.html#a857aacdb88a574ec4a363335f6152a1e">SceneObject::setRotation()</a> and <a class="el" href="classbs_1_1_scene_object.html#a917333af594a94618058b1d73b6180eb">SceneObject::setScale()</a>.</p>
<p>Components attached to scene objects will reflect the scene object transform. For example, moving a scene object with a <b>Renderable</b> component will make the 3D mesh referenced by <b>Renderable</b> display in a different location in the scene.</p>
<div class="fragment"><div class="line">HSceneObject so = SceneObject::create(<span class="stringliteral">&quot;My object&quot;</span>);</div><div class="line"></div><div class="line"><span class="comment">// Move the object to 30 units on the X axis</span></div><div class="line">so-&gt;setPosition(Vector3(30, 0, 0));</div><div class="line"></div><div class="line"><span class="comment">// Rotate 90 degrees around the Y axis</span></div><div class="line">so-&gt;setRotation(Quaternion(Degree(0), Degree(90), Degree(0)));</div><div class="line"></div><div class="line"><span class="comment">// Double its size</span></div><div class="line">so-&gt;setScale(Vector3(2.0f, 2.0f, 2.0f));</div></div><!-- fragment --><p>Internally these methods manipulate a <a class="el" href="classbs_1_1_transform.html">Transform</a> object. You can also retrieve the transform from a scene object and manipulate it directly for greater control. To retrieve the world-space transform call <a class="el" href="classbs_1_1_scene_object.html#af5a60b58073888a2eaae734ffd723aa6">SceneObject::getTransform()</a>.</p>
<p>There also other useful methods when it comes to dealing with scene object positions and orientations, like <a class="el" href="classbs_1_1_scene_object.html#a0a1a6d1e6a749f7bb76b913c1c3aba62">SceneObject::move()</a>, <a class="el" href="classbs_1_1_scene_object.html#a07ec40b64c67fb2cff194bb69bde2cb6">SceneObject::lookAt()</a>. See the <a class="el" href="classbs_1_1_scene_object.html">SceneObject</a> API reference for a full overview.</p>
<h1><a class="anchor" id="scenesAndComponents_d"></a>
Scene object hierarchy</h1>
<p>As mentioned, scene objects can be arranged in a hierarchy. Hierarchies allow you to transform multiple scene objects at once, since any transforms applied to a parent will also be applied to a child.</p>
<p>All newly created scene objects are parented to the scene root by default. Use <a class="el" href="classbs_1_1_scene_object.html#ace6469f0ee87566fab596ee0662a17f0">SceneObject::setParent</a> to change their parents.</p>
<div class="fragment"><div class="line">HSceneObject parent = SceneObject::create(<span class="stringliteral">&quot;Parent&quot;</span>);</div><div class="line">HSceneObject childA = SceneObject::create(<span class="stringliteral">&quot;Child&quot;</span>);</div><div class="line">HSceneObject childB = SceneObject::create(<span class="stringliteral">&quot;Child&quot;</span>);</div><div class="line"></div><div class="line"><span class="comment">// Scene hierarchy:</span></div><div class="line"><span class="comment">// Scene root</span></div><div class="line"><span class="comment">//  - Parent</span></div><div class="line"><span class="comment">//  - Child</span></div><div class="line"><span class="comment">//  - Child </span></div><div class="line"></div><div class="line">childA-&gt;setParent(parent);</div><div class="line">childB-&gt;setParent(parent);</div><div class="line"></div><div class="line"><span class="comment">// Scene hierarchy:</span></div><div class="line"><span class="comment">// Scene root</span></div><div class="line"><span class="comment">//  - Parent</span></div><div class="line"><span class="comment">//   - Child</span></div><div class="line"><span class="comment">//   - Child </span></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// Transforming an object will move all its children</span></div><div class="line"><span class="comment">// This operation moves the parent and both children to 30 units on the X axis</span></div><div class="line">parent-&gt;setPosition(Vector3(30, 0, 0));</div></div><!-- fragment --><p>You may query for parent and children of a scene object using methods like <a class="el" href="classbs_1_1_scene_object.html#a44a4e15431236162d40bc23f41c1ce87">SceneObject::getParent()</a>, <a class="el" href="classbs_1_1_scene_object.html#a19e3a9eb18659a5a587bb2fbf76b7adb">SceneObject::getNumChildren()</a>, <a class="el" href="classbs_1_1_scene_object.html#af2feb4b935704c81f412b1a6ad342b55">SceneObject::getChild()</a> or <a class="el" href="classbs_1_1_scene_object.html#af93c8ebdf8d3fb1686c3216b563528a2">SceneObject::findChild()</a>. See the <a class="el" href="classbs_1_1_scene_object.html">SceneObject</a> API reference for a full overview.</p>
<h1><a class="anchor" id="scenesAndComponents_e"></a>
Components</h1>
<p>You may add components to a scene object using the <a class="el" href="classbs_1_1_scene_object.html#a07137a3d84ecc3a27fe8b2ae5df4c534">SceneObject::addComponent&lt;T&gt;()</a> method.</p>
<p>You may retrieve existing components by calling <a class="el" href="classbs_1_1_scene_object.html#ad4d6bed8f14e08998f89903b087b562d">SceneObject::getComponent&lt;T&gt;()</a>.</p>
<p>Components can be removed by calling the <a class="el" href="classbs_1_1_component.html#a74f96a20c233aabd50a8dc6068084300">Component::destroy()</a> method on the component.</p>
<div class="fragment"><div class="line">HSceneObject so = SceneObject::create(<span class="stringliteral">&quot;My object&quot;</span>);</div><div class="line"></div><div class="line"><span class="comment">// Add a Renderable component to the scene object</span></div><div class="line">so-&gt;addComponent&lt;CRenderable&gt;();</div><div class="line"></div><div class="line"><span class="comment">// Find an existing component</span></div><div class="line">HRenderable renderable = so-&gt;getComponent&lt;CRenderable&gt;();</div><div class="line"></div><div class="line"><span class="comment">// Destroy the component</span></div><div class="line">renderable-&gt;<a class="code" href="classbs_1_1_component.html#a74f96a20c233aabd50a8dc6068084300">destroy</a>();</div></div><!-- fragment --><blockquote class="doxtable">
<p>As a convention, all component class names are prefixed with a "C". </p>
</blockquote>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.10-->
<!-- start footer part -->
    <!-- Footer -->
    <div class="myFooter">
		<div class="ui inverted vertical footer segment" style="border-top: 2px solid #f9500d;">
			<div class="ui container">
				<div class="ui stackable inverted divided equal height grid">
					<div class="three wide column">
						<h4 class="ui inverted header">Contact</h4>
						<div class="ui inverted link list">
							<a href="mailto:contact@bsframework.io" class="item">Contact us</a>
							<a href="https://github.com/GameFoundry/bsf/issues" target="_blank" class="item">Report an issue</a>
						</div>
					</div>
					<div class="three wide column">
						<h4 class="ui inverted header">Info</h4>
						<div class="ui inverted link list">
							<a href="https://github.com/GameFoundry/bsf" target="_blank" class="item">Contribute</a>
							<a href="https://github.com/GameFoundry/bsf/blob/master/Documentation/GitHub/roadmap.md" target="_blank" class="item">Roadmap</a>
							<a href="https://github.com/GameFoundry/bsf/blob/master/LICENSE.md" target="_blank" class="item">License</a>
						</div>
					</div>
					<div class="seven wide column">
						<h4 class="ui inverted header">Donate</h4>
						<div class="ui horizontal list">
							<div class="item"><a href="https://www.patreon.com/bsf"><img class="ui image" src="become_a_patron_button.png"></a></div>
							<div class="item"><a href="https://www.paypal.me/MarkoPintera/10" target="_blank"><img class="ui image" src="paypalDonate.png"></a></div>
						</div>
						<p style="padding-top:7px"><i>bs::f</i> is developed by Marko Pintera and contributors.</p>
					</div>
				</div>
			</div>
		</div>
	</div>
</div> <!-- Everything -->
</body>
</html>
