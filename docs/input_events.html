<!-- HTML header for doxygen 1.8.10-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-120676613-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-120676613-1');
</script>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<title>bs::f docs - Input events</title>
<link rel="icon" type="image/png" href="logo.png">
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href='https://fonts.googleapis.com/css?family=Lato:normal,bold|Cabin:normal,bold' rel='stylesheet' type='text/css'>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="SemanticUI/semantic.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxystyle.css" rel="stylesheet" type="text/css"/>
<link href="SemanticUI/semantic.css" rel="stylesheet" type="text/css">
</head>
<body>
<div class="everything">
	<div class="ui inverted vertical center aligned segment" id="menuSegment">
		<div class="ui container">
			<div class="ui inverted mainmenu menu">
				<a href="https://www.bsframework.io"><div class="item" id="logoItem"><img class="ui image" id="logo" src="logoHeader.png"></div></a>
				<div class="right menu">
					<a class="borderless item" href="https://www.bsframework.io">Home</a>
					<a class="item" href="https://www.bsframework.io/download.html">Download</a>
					<a class="item" href="https://discourse.bsframework.io">Community</a>
					<a class="active item" href="https://www.bsframework.io/docs/index.html">Documentation</a>
					<a class="item" href="https://github.com/gamefoundry/bsf"><i class="github icon"></i>GitHub</a>
				</div>
			</div>
		</div>
	</div>	
	<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Input events </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#inputEvents_a">Button presses</a></li>
<li class="level1"><a href="#inputEvents_b">Mouse/touch input</a></li>
<li class="level1"><a href="#inputEvents_c">Text input</a></li>
</ul>
</div>
<div class="textblock"><p>Events represent another way of handling user input. They are an alternative to input polling, and it's up to the developer to choose which way of handling input he prefers. These approaches aren't identical though, and events can provide more information than polling. Same as polling, events are also handled by the <b>Input</b> class.</p>
<p>This approach uses the event system, on which you can read more on <a class="el" href="events.html">here</a>.</p>
<h1><a class="anchor" id="inputEvents_a"></a>
Button presses</h1>
<p>You can subscribe to the following events that report when the user interacted with a button:</p><ul>
<li><a class="el" href="classbs_1_1_input.html#a9d3ed3fa22449b3119876a0a0003fc8f">Input::onButtonDown</a> - Triggered whenever a button has been pressed.</li>
<li><a class="el" href="classbs_1_1_input.html#a56c9430c76bb3dd4050ca55823e95e9e">Input::onButtonUp</a> - Triggered whenever a button has been released.</li>
</ul>
<p>Both of these events supply the <a class="el" href="structbs_1_1_button_event.html">ButtonEvent</a> structure, containing the code of the button that was pressed, along with some other information.</p>
<div class="fragment"><div class="line">Vector3 position(BsZero);</div><div class="line"></div><div class="line"><span class="comment">// Callback method that triggers when any button is pressed</span></div><div class="line"><span class="keyword">auto</span> handleButtonDown = [&amp;](<span class="keyword">const</span> ButtonEvent&amp; event)</div><div class="line">{</div><div class="line">    <span class="comment">// If user presses space, &quot;jump&quot;</span></div><div class="line">    <span class="keywordflow">if</span> (event.buttonCode == BC_SPACE)</div><div class="line">        position.y += 5.0f;</div><div class="line">};</div><div class="line"></div><div class="line"><span class="comment">// Connect the callback to the event</span></div><div class="line"><a class="code" href="group___input.html#ga0a3fe5b5d0b802f8321e47000df19318">gInput</a>().<a class="code" href="classbs_1_1_input.html#a9d3ed3fa22449b3119876a0a0003fc8f">onButtonDown</a>.connect(handleButtonDown);</div></div><!-- fragment --><h1><a class="anchor" id="inputEvents_b"></a>
Mouse/touch input</h1>
<p>Use <a class="el" href="classbs_1_1_input.html#ad4e0524c87c0656840115ee0fac7eb33">Input::onPointerMoved</a> to track whenever the user moves the mouse or his finger on a touch device. The event supplies the <a class="el" href="structbs_1_1_pointer_event.html">PointerEvent</a> structure, containing information like screen position of the event, delta from the last frame, state of all the mouse buttons, scroll wheel movement and more.</p>
<div class="fragment"><div class="line">Vector3 position(BsZero);</div><div class="line"></div><div class="line"><span class="comment">// Callback method that triggers whenever the pointer moves</span></div><div class="line"><span class="keyword">auto</span> handlePointerMove = [&amp;](<span class="keyword">const</span> PointerEvent&amp; event)</div><div class="line">{</div><div class="line">    <span class="comment">// Move the object in 2D plane together with the pointer, if left mouse button is pressed</span></div><div class="line">    <span class="keywordflow">if</span>(event.buttonStates[(<span class="keywordtype">int</span>)PointerEventButton::Left])</div><div class="line">    {</div><div class="line">        position.x = (float)event.screenPos.x;</div><div class="line">        position.y = (<span class="keywordtype">float</span>)<span class="keyword">event</span>.screenPos.y;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// Change object depth depending on mouse scroll wheel</span></div><div class="line">    position.z += <span class="keyword">event</span>.mouseWheelScrollAmount;</div><div class="line">};</div><div class="line"></div><div class="line"><span class="comment">// Connect the callback to the event</span></div><div class="line"><a class="code" href="group___input.html#ga0a3fe5b5d0b802f8321e47000df19318">gInput</a>().<a class="code" href="classbs_1_1_input.html#ad4e0524c87c0656840115ee0fac7eb33">onPointerMoved</a>.connect(handlePointerMove);</div></div><!-- fragment --><p>Pointers may also receive specialized button down/up events, similar to <em>Input::onButtonDown</em> and <em>Input::onButtonUp</em>. They trigger at the same time, but provide <em>PointerEvent</em> structure instead of <em>ButtonEvent</em> - which may be more useful in certain situations. These methods are:</p><ul>
<li><a class="el" href="classbs_1_1_input.html#a4f0f507f264a799944b6bcfa6e0aa354">Input::onPointerPressed</a> - Triggered whenever a pointer button has been pressed or screen touch began.</li>
<li><a class="el" href="classbs_1_1_input.html#aaab1b38fcffca38a6aa3b41bc633dbbe">Input::onPointerReleased</a> - Triggered whenever a pointer button has been released or screen touch ended.</li>
<li><a class="el" href="classbs_1_1_input.html#af606792169048578d9452b8602e543af">Input::onPointerDoubleClick</a> - Triggered when the user quickly clicks the pointer buttons or taps the screen in succession.</li>
</ul>
<div class="fragment"><div class="line">Vector3 position(BsZero);</div><div class="line"></div><div class="line"><span class="comment">// Callback method that triggers when any button is pressed</span></div><div class="line"><span class="keyword">auto</span> handleDoubleClick = [&amp;](<span class="keyword">const</span> PointerEvent&amp; event)</div><div class="line">{</div><div class="line">    <span class="comment">// Jump on double click</span></div><div class="line">    position.y += 5.0f;</div><div class="line">};</div><div class="line"></div><div class="line"><span class="comment">// Connect the callback to the event</span></div><div class="line"><a class="code" href="group___input.html#ga0a3fe5b5d0b802f8321e47000df19318">gInput</a>().<a class="code" href="classbs_1_1_input.html#af606792169048578d9452b8602e543af">onPointerDoubleClick</a>.connect(handleDoubleClick);</div></div><!-- fragment --><h1><a class="anchor" id="inputEvents_c"></a>
Text input</h1>
<p>If user is typing text (using a physical or a touch keyboard) you may subscribe to <a class="el" href="classbs_1_1_input.html#a01efcf87f502ed281b937709c06535b3">Input::onCharInput</a> to receive individual characters as the user inputs them.</p>
<div class="fragment"><div class="line"><a class="code" href="group___string.html#gaed1c5723331854f2fefaf2b2ee2fbdda">StringStream</a> inputString;</div><div class="line"></div><div class="line"><span class="comment">// Callback method that appends a character to the inputString stream</span></div><div class="line"><span class="keyword">auto</span> handleDoubleClick = [&amp;](<span class="keyword">const</span> TextInputEvent&amp; event)</div><div class="line">{</div><div class="line">    inputString&lt;&lt;(char)textChar;</div><div class="line">};</div><div class="line"></div><div class="line"><span class="comment">// Connect the callback to the event</span></div><div class="line"><a class="code" href="group___input.html#ga0a3fe5b5d0b802f8321e47000df19318">gInput</a>().<a class="code" href="classbs_1_1_input.html#a01efcf87f502ed281b937709c06535b3">onCharInput</a>.connect(handleCharInput);</div></div><!-- fragment --><p>Note that the system will register keyboard buttons as both text input and as normal button presses - it's up to the caller to decide which to process when. If keyboard is used for gameplay then button presses should be used, but if user is actually typing text, then character input is better suited. This is because button events report button codes as physical keyboard keys, yet character input will actually translate those physical key presses into character codes depending on the user's keyboard settings, which ensures non-english keyboard layouts work as intended. </p>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.10-->
<!-- start footer part -->
    <!-- Footer -->
    <div class="myFooter">
		<div class="ui inverted vertical footer segment" style="border-top: 2px solid #f9500d;">
			<div class="ui container">
				<div class="ui stackable inverted divided equal height grid">
					<div class="three wide column">
						<h4 class="ui inverted header">Contact</h4>
						<div class="ui inverted link list">
							<a href="mailto:contact@bsframework.io" class="item">Contact us</a>
							<a href="https://github.com/GameFoundry/bsf/issues" target="_blank" class="item">Report an issue</a>
						</div>
					</div>
					<div class="three wide column">
						<h4 class="ui inverted header">Info</h4>
						<div class="ui inverted link list">
							<a href="https://github.com/GameFoundry/bsf" target="_blank" class="item">Contribute</a>
							<a href="https://github.com/GameFoundry/bsf/blob/master/Documentation/GitHub/roadmap.md" target="_blank" class="item">Roadmap</a>
							<a href="https://github.com/GameFoundry/bsf/blob/master/LICENSE.md" target="_blank" class="item">License</a>
						</div>
					</div>
					<div class="seven wide column">
						<h4 class="ui inverted header">Donate</h4>
						<div class="ui horizontal list">
							<div class="item"><a href="https://www.patreon.com/bsf"><img class="ui image" src="become_a_patron_button.png"></a></div>
							<div class="item"><a href="https://www.paypal.me/MarkoPintera/10" target="_blank"><img class="ui image" src="paypalDonate.png"></a></div>
						</div>
						<p style="padding-top:7px"><i>bs::f</i> is developed by Marko Pintera and contributors.</p>
					</div>
				</div>
			</div>
		</div>
	</div>
</div> <!-- Everything -->
</body>
</html>
