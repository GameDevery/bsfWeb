<!-- HTML header for doxygen 1.8.10-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-120676613-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-120676613-1');
</script>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<title>bs::f docs - Textures</title>
<link rel="icon" type="image/png" href="logo.png">
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href='https://fonts.googleapis.com/css?family=Lato:normal,bold|Cabin:normal,bold' rel='stylesheet' type='text/css'>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="SemanticUI/semantic.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxystyle.css" rel="stylesheet" type="text/css"/>
<link href="SemanticUI/semantic.css" rel="stylesheet" type="text/css">
</head>
<body>
<div class="everything">
	<div class="ui inverted vertical center aligned segment" id="menuSegment">
		<div class="ui container">
			<div class="ui inverted mainmenu menu">
				<a href="https://www.bsframework.io"><div class="item" id="logoItem"><img class="ui image" id="logo" src="logoHeader.png"></div></a>
				<div class="right menu">
					<a class="borderless item" href="https://www.bsframework.io">Home</a>
					<a class="item" href="https://www.bsframework.io/download.html">Download</a>
					<a class="item" href="https://discourse.bsframework.io">Community</a>
					<a class="active item" href="https://www.bsframework.io/docs/index.html">Documentation</a>
					<a class="item" href="https://github.com/gamefoundry/bsf"><i class="github icon"></i>GitHub</a>
				</div>
			</div>
		</div>
	</div>	
	<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Textures </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#importingTextures_a">Importing a texture</a></li>
<li class="level1"><a href="#importingTextures_b">Creating a texture</a></li>
<li class="level1"><a href="#importingTextures_c">Texture properties</a></li>
<li class="level1"><a href="#importingTextures_d">Customizing import</a><ul><li class="level2"><a href="#importingTextures_d_a">Image format</a></li>
<li class="level2"><a href="#importingTextures_d_b">Mip-maps</a></li>
<li class="level2"><a href="#importingTextures_d_c">Gamma correction</a></li>
<li class="level2"><a href="#importingTextures_d_d">Caching</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><p>Textures are images that are applied to meshes in order to achieve greater surface detail. In bs::f they are represented with the <a class="el" href="classbs_1_1_texture.html">Texture</a> class. A texture is a resource, meaning it can be imported, saved and loaded as any other resource.</p>
<h1><a class="anchor" id="importingTextures_a"></a>
Importing a texture</h1>
<p>Textures can be imported from various third party formats, using the importer.</p>
<div class="fragment"><div class="line"><span class="comment">// Import a texture named &quot;myTexture.jpg&quot; from the disk</span></div><div class="line">HTexture texture = <a class="code" href="group___importer.html#gafda9808bfcae11afa60eee731056225e">gImporter</a>().<a class="code" href="classbs_1_1_importer.html#a956425fa45716612e04b109701bdd62f">import</a>&lt;Texture&gt;(<span class="stringliteral">&quot;myTexture.jpg&quot;</span>);</div></div><!-- fragment --><p>Supported formats are:</p><ul>
<li>BMP</li>
<li>DDS</li>
<li>EXR</li>
<li>GIF</li>
<li>HDR</li>
<li>ICO</li>
<li>JPG</li>
<li>PNG</li>
<li>PSD</li>
<li>RAW</li>
<li>TARGA</li>
<li>TIFF</li>
</ul>
<h1><a class="anchor" id="importingTextures_b"></a>
Creating a texture</h1>
<p>Textures can also be created manually, which we cover later in the <a class="el" href="advanced_textures.html">creating textures</a> manual.</p>
<h1><a class="anchor" id="importingTextures_c"></a>
Texture properties</h1>
<p>Once a texture has been imported, you can retrieve its properties like width, height and format by calling <a class="el" href="classbs_1_1_texture.html#a94633726c4321790728ffadcf558734e">Texture::getProperties()</a>, which returns a <a class="el" href="classbs_1_1_texture_properties.html">TextureProperties</a> object.</p>
<div class="fragment"><div class="line"><span class="comment">// Retrieve and print out various texture properties</span></div><div class="line"><span class="keyword">auto</span>&amp; props = texture-&gt;getProperties();</div><div class="line"></div><div class="line"><a class="code" href="group___debug.html#ga3d2df36e0b331304f012c778c43d86a9">gDebug</a>().<a class="code" href="classbs_1_1_debug.html#acb8d76b720a9ce83aff8bcef5340151b">logDebug</a>(<span class="stringliteral">&quot;Width: &quot;</span> + <a class="code" href="group___string.html#ga852e40fdd80b537b8ccf93e9cefe0e2b">toString</a>(props.getWidth()));</div><div class="line"><a class="code" href="group___debug.html#ga3d2df36e0b331304f012c778c43d86a9">gDebug</a>().<a class="code" href="classbs_1_1_debug.html#acb8d76b720a9ce83aff8bcef5340151b">logDebug</a>(<span class="stringliteral">&quot;Height: &quot;</span> + <a class="code" href="group___string.html#ga852e40fdd80b537b8ccf93e9cefe0e2b">toString</a>(props.getHeight()));</div><div class="line"><a class="code" href="group___debug.html#ga3d2df36e0b331304f012c778c43d86a9">gDebug</a>().<a class="code" href="classbs_1_1_debug.html#acb8d76b720a9ce83aff8bcef5340151b">logDebug</a>(<span class="stringliteral">&quot;Format: &quot;</span> + <a class="code" href="group___string.html#ga852e40fdd80b537b8ccf93e9cefe0e2b">toString</a>(props.getFormat()));</div><div class="line"><a class="code" href="group___debug.html#ga3d2df36e0b331304f012c778c43d86a9">gDebug</a>().<a class="code" href="classbs_1_1_debug.html#acb8d76b720a9ce83aff8bcef5340151b">logDebug</a>(<span class="stringliteral">&quot;Num. mip maps: &quot;</span> + <a class="code" href="group___string.html#ga852e40fdd80b537b8ccf93e9cefe0e2b">toString</a>(props.getNumMipmaps()));</div></div><!-- fragment --><h1><a class="anchor" id="importingTextures_d"></a>
Customizing import</h1>
<p>Texture import can be customized by providing a <a class="el" href="classbs_1_1_texture_import_options.html">TextureImportOptions</a> object to the importer.</p>
<div class="fragment"><div class="line"><span class="keyword">auto</span> importOptions = TextureImportOptions::create();</div><div class="line"><span class="comment">// Set required options here (as described below)</span></div><div class="line"></div><div class="line">HTexture texture = <a class="code" href="group___importer.html#gafda9808bfcae11afa60eee731056225e">gImporter</a>().<a class="code" href="classbs_1_1_importer.html#a956425fa45716612e04b109701bdd62f">import</a>&lt;Texture&gt;(<span class="stringliteral">&quot;myTexture.jpg&quot;</span>, importOptions);</div></div><!-- fragment --><p>A variety of properties can be customized on import, the most important of which being image format, mip-map generation, sRGB state and caching.</p>
<h2><a class="anchor" id="importingTextures_d_a"></a>
Image format</h2>
<p><a class="el" href="classbs_1_1_texture_import_options.html#a0636dd8ba0e5ca969b9e5a15b1f2f5cf">TextureImportOptions::setFormat()</a> allows you to specify which format should the texture pixels be in after import. Any of the formats provided in <a class="el" href="group___resources.html#ga60883d4958a60b91661e97027a85072a">PixelFormat</a> are supported.</p>
<div class="fragment"><div class="line"><span class="comment">// Set format as uncompressed RGB with an alpha channel</span></div><div class="line">importOptions-&gt;setFormat(PF_R8G8B8A8);</div></div><!-- fragment --><p>Formats can be split into two main categories:</p><ul>
<li>Uncompressed - Contain raw texture data with no quality loss, but with high memory cost. Great for textures used on 2D elements like GUI or sprites, for which compressed formats normally introduce visible artifacts.</li>
<li>Compressed - Compressed texture data with a slight quality loss, but with considerably smaller (~4x) memory cost compared to raw texture data. Great for textures used on 3D surfaces in the scene.</li>
</ul>
<p>Some of most common formats are:</p><ul>
<li>PF_R8G8B8 - Uncompressed RGB data, without an alpha channel.</li>
<li>PF_R8G8B8A8 - Uncompressed RGB data, with an alpha channel.</li>
<li>PF_BC1 - Compressed RGB data, without an alpha channel.</li>
<li>PF_BC3 - Compressed RGB data, with an alpha channel.</li>
<li>PF_BC5 - Compressed 2-channel format.</li>
</ul>
<h2><a class="anchor" id="importingTextures_d_b"></a>
Mip-maps</h2>
<p><a class="el" href="classbs_1_1_texture_import_options.html#a6cd329b399652b6ccd78432f653a6395">TextureImportOptions::setGenerateMipmaps()</a> allows you to specify should mip-maps for the texture be generated. Mipmaps ensure that textures applied to 3D surfaces look good when they're viewed from far away (i.e. when the pixel size they take up on screen is considerably less than the actual texture resolution).</p>
<p>Enabling mip-maps will increase the memory use of the texture by 33%, but it is pretty much essential for any texture applied on a 3D object. It should not be enabled for textures used on 2D elements like GUI or sprites, as it will have no benefit.</p>
<div class="fragment"><div class="line"><span class="comment">// Enable mipmap generation</span></div><div class="line">importOptions-&gt;setGenerateMipmaps(<span class="keyword">true</span>);</div></div><!-- fragment --><h2><a class="anchor" id="importingTextures_d_c"></a>
Gamma correction</h2>
<p>Most images output by modern cameras and image editing software will be stored in what's called a gamma (sRGB) space. This ensures that the image has more quality in the blacks, but it does not represent the actual image you see on the screen (when you open it in some image viewing program). This is because your monitor performs gamma-correction on the image, before displaying it to you.</p>
<p>However game engines don't like their data in gamma space, because it's not linear which means that all lighting and similar operations don't operate exactly as they should. Essentially the image ends up looking more "washed-out" than it should.</p>
<p>For this reason bs::f provides <a class="el" href="classbs_1_1_texture_import_options.html#a868f1a397725e6b2ca5dd22986d3def1">TextureImportOptions::setSRGB()</a> toggle, which you can set for images in gamma (sRGB) space. The engine will then know to convert to linear space before performing any relevant operations, ensuring the final rendering looks good.</p>
<div class="fragment"><div class="line"><span class="comment">// Tell the engine this image is in gamma space</span></div><div class="line">importOptions-&gt;setSRGB(<span class="keyword">true</span>);</div></div><!-- fragment --><blockquote class="doxtable">
<p>How do you know when an image is in gamma space and when in linear space? As a general rule an albedo (diffuse) images are in gamma space, and normal maps are in linear space. For other types of images you need to consult the tool you use to create/save them, but in most cases they will be in gamma space. </p>
</blockquote>
<h2><a class="anchor" id="importingTextures_d_d"></a>
Caching</h2>
<p>Sometimes you need to import a texture you don't want to only use for rendering, but rather for manually reading its contents. When that's the case you can enable the <a class="el" href="classbs_1_1_texture_import_options.html#a63cb32f6f7bd9b2d67e6d5ad698e210a">TextureImportOptions::setCPUCached()</a> option.</p>
<p>This will allow you to call <a class="el" href="classbs_1_1_texture.html#ac630312b45d7b431b721d0d5a1c168df">Texture::readCachedData()</a> and to manually read individual pixels of the texture.</p>
<p>Note that caching a texture means its data will be available in system memory, essentially doubling its memory usage.</p>
<div class="fragment"><div class="line"><span class="comment">// Enable caching</span></div><div class="line">importOptions-&gt;setCPUCached(<span class="keyword">true</span>);</div><div class="line"></div><div class="line"><span class="comment">// Import texture</span></div><div class="line">HTexture texture = <a class="code" href="group___importer.html#gafda9808bfcae11afa60eee731056225e">gImporter</a>().<a class="code" href="classbs_1_1_importer.html#a956425fa45716612e04b109701bdd62f">import</a>&lt;Texture&gt;(<span class="stringliteral">&quot;myTexture.jpg&quot;</span>, importOptions);</div><div class="line"></div><div class="line"><span class="comment">// Allocate a buffer to hold texture contents</span></div><div class="line">SPtr&lt;PixelData&gt; pixelData = PixelData::create(1024, 1024, 1, PF_R8G8B8A8);</div><div class="line"></div><div class="line"><span class="comment">// Read cached data</span></div><div class="line">texture-&gt;readCachedData(*pixelData);</div><div class="line"></div><div class="line"><span class="comment">// Read pixels</span></div><div class="line">Color color = pixelData-&gt;getColorAt(50, 50);</div><div class="line">...</div></div><!-- fragment --><blockquote class="doxtable">
<p><b>PixelData</b> is explained later in the <a class="el" href="advanced_textures.html">creating textures</a> manual. </p>
</blockquote>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.10-->
<!-- start footer part -->
    <!-- Footer -->
    <div class="myFooter">
		<div class="ui inverted vertical footer segment" style="border-top: 2px solid #f9500d;">
			<div class="ui container">
				<div class="ui stackable inverted divided equal height grid">
					<div class="three wide column">
						<h4 class="ui inverted header">Contact</h4>
						<div class="ui inverted link list">
							<a href="mailto:contact@bsframework.io" class="item">Contact us</a>
							<a href="https://github.com/GameFoundry/bsf/issues" target="_blank" class="item">Report an issue</a>
						</div>
					</div>
					<div class="three wide column">
						<h4 class="ui inverted header">Info</h4>
						<div class="ui inverted link list">
							<a href="https://github.com/GameFoundry/bsf" target="_blank" class="item">Contribute</a>
							<a href="https://github.com/GameFoundry/bsf/blob/master/Documentation/GitHub/roadmap.md" target="_blank" class="item">Roadmap</a>
							<a href="https://github.com/GameFoundry/bsf/blob/master/LICENSE.md" target="_blank" class="item">License</a>
						</div>
					</div>
					<div class="seven wide column">
						<h4 class="ui inverted header">Donate</h4>
						<div class="ui horizontal list">
							<div class="item"><a href="https://www.patreon.com/bsf"><img class="ui image" src="become_a_patron_button.png"></a></div>
							<div class="item"><a href="https://www.paypal.me/MarkoPintera/10" target="_blank"><img class="ui image" src="paypalDonate.png"></a></div>
						</div>
						<p style="padding-top:7px"><i>bs::f</i> is developed by Marko Pintera and contributors.</p>
					</div>
				</div>
			</div>
		</div>
	</div>
</div> <!-- Everything -->
</body>
</html>
