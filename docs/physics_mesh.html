<!-- HTML header for doxygen 1.8.10-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<title>bs::f docs - Physics meshes</title>
<link rel="icon" type="image/png" href="logo.png">
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href='http://fonts.googleapis.com/css?family=Lato:normal,bold|Cabin:normal,bold' rel='stylesheet' type='text/css'>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="../SemanticUI/semantic.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxystyle.css" rel="stylesheet" type="text/css"/>
<link href="../SemanticUI/semantic.css" rel="stylesheet" type="text/css">
</head>
<body>
<div class="everything">
	<div class="ui inverted vertical center aligned segment" id="menuSegment">
		<div class="ui container">
			<div class="ui inverted mainmenu menu">
				<a href="https://www.bsframework.io"><div class="item" id="logoItem"><img class="ui image" id="logo" src="logoHeader.png"></div></a>
				<div class="right menu">
					<a class="borderless item" href="https://www.bsframework.io">Home</a>
					<a class="item" href="https://www.bsframework.io/download.html">Download</a>
					<a class="item" href="https://discourse.bsframework.io">Community</a>
					<a class="active item" href="https://www.bsframework.io/docs/index.html">Documentation</a>
					<a class="item" href="https://github.com/gamefoundry/bsf"><i class="github icon"></i>GitHub</a>
				</div>
			</div>
		</div>
	</div>	
	<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Physics meshes </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#physicsMesh_a">Import</a></li>
<li class="level1"><a href="#physicsMesh_b">Performance</a></li>
<li class="level1"><a href="#physicsMesh_c">Physics mesh types</a></li>
</ul>
</div>
<div class="textblock"><p>Physics meshes are represented using the <a class="el" href="classbs_1_1_physics_mesh.html">PhysicsMesh</a> class. They are resources, meaning they can be imported, saved and loaded as any other resource.</p>
<div class="image">
<img src="MeshCollider.png" alt="MeshCollider.png"/>
<div class="caption">
Physics mesh</div></div>
<p> <br />
 </p>
<h1><a class="anchor" id="physicsMesh_a"></a>
Import</h1>
<p>The import process is slightly different from other resources because physics meshes are imported from the same file types as normal meshes. We must first create <b>MeshImportOptions</b> object, and specify that we wish to import a physics mesh along with a normal mesh by calling <a class="el" href="classbs_1_1_mesh_import_options.html#afe19b7333c48b5839cae41a9742e83a8">MeshImportOptions::setCollisionMeshType()</a>.</p>
<div class="fragment"><div class="line"><span class="keyword">auto</span> importOptions = MeshImportOptions::create();</div><div class="line">importOptions-&gt;setCollisionMeshType(CollisionMeshType::Normal);</div></div><!-- fragment --><p>Then in order to perform actual import we call <a class="el" href="classbs_1_1_importer.html#a6e6a5c8e1bdcd95f6924c90fc642074e">Importer::importAll()</a>, instead of <b>Importer::import&lt;T&gt;()</b> we have been calling so far. <b>Importer::importAll()</b> should be used when import operation can return more than one resource (since <b>Importer::import&lt;T&gt;()</b> will only return the default resource, i.e. a <b>Mesh</b>).</p>
<p><b>Importer::importAll()</b> will return an array of resources as <a class="el" href="structbs_1_1_sub_resource.html">SubResource</a> objects. In our case there are two sub resources, first one is the normal <b>Mesh</b>, and the second one will be the physics mesh we requested.</p>
<div class="fragment"><div class="line"><span class="keyword">auto</span> resources = <a class="code" href="group___importer.html#gafda9808bfcae11afa60eee731056225e">gImporter</a>().<a class="code" href="classbs_1_1_importer.html#a6e6a5c8e1bdcd95f6924c90fc642074e">importAll</a>(<span class="stringliteral">&quot;dragon.fbx&quot;</span>, importOptions);</div><div class="line"></div><div class="line">HPhysicsMesh physicsMesh = <a class="code" href="group___resources.html#gaf38f08e12f1845752a5aeb1b268851f3">static_resource_cast</a>&lt;PhysicsMesh&gt;(resources[1].value);</div></div><!-- fragment --><blockquote class="doxtable">
<p>In case there are multiple resources and you're not sure which one is the physics mesh you can check the <b>name</b> field on the <b>SubResource</b> object. Physics meshes are always named "collision". </p>
</blockquote>
<h1><a class="anchor" id="physicsMesh_b"></a>
Performance</h1>
<p>Note that performing physics tests is expensive and you should always strive to minimize the amount of triangles in a physics mesh. Using a render mesh for physics is almost never a good idea. Instead strive to have a few dozen triangles in your physics mesh, with a few hundred for the most complex geometry. Whenever possible use the basic collider shapes like box/sphere instead of physics meshes.</p>
<h1><a class="anchor" id="physicsMesh_c"></a>
Physics mesh types</h1>
<p>During import when calling <b>MeshImportOptions::setCollisionMeshType()</b> we provided a <a class="el" href="group___importer.html#ga1db121590290da7cc1b5a880ea489633">CollisionMeshType</a> enum to specify we want a mesh imported. It has two possible values:</p><ul>
<li><b>CollisionMeshType::Normal</b></li>
<li><b>CollisionMeshType::Convex</b></li>
</ul>
<p>Normal meshes are imported as-is. They can represent very complex geometry, but such meshes cannot be used for dynamic physical objects (shown later). Instead such meshes can only be used for static scene geometry.</p>
<p>Convex meshes on the other hand can be used for dynamic physical objects. They are also significantly faster to process by the physics system and you should strive to use them whenever possible. They do come with two major restrictions though:</p><ul>
<li>They can have a maximum of 255 faces</li>
<li>They must be convex (have no holes or indentations, and be closed)</li>
</ul>
<p>When convex mesh option is enabled the system will automatically convert any non-convex meshes to convex ones on import. This process is also known as "gift-wrapping", as the resulting convex object looks like as if you gift wrapped the original object.</p>
<p>TODO_IMAGE </p>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.10-->
<!-- start footer part -->
    <!-- Footer -->
    <div class="myFooter">
		<div class="ui inverted vertical footer segment" style="border-top: 2px solid #f9500d;">
			<div class="ui container">
				<div class="ui stackable inverted divided equal height grid">
					<div class="three wide column">
						<h4 class="ui inverted header">Contact</h4>
						<div class="ui inverted link list">
							<a href="mailto:contact@bsframework.io" class="item">Contact us</a>
							<a href="https://github.com/GameFoundry/bsf/issues" target="_blank" class="item">Report an issue</a>
						</div>
					</div>
					<div class="three wide column">
						<h4 class="ui inverted header">Info</h4>
						<div class="ui inverted link list">
							<a href="https://github.com/GameFoundry/bsf" target="_blank" class="item">Contribute</a>
							<a href="https://github.com/GameFoundry/bsf/blob/master/Documentation/GitHub/roadmap.md" target="_blank" class="item">Roadmap</a>
							<a href="https://github.com/GameFoundry/bsf/blob/master/LICENSE.md" target="_blank" class="item">License</a>
						</div>
					</div>
					<div class="seven wide column">
						<h4 class="ui inverted header">Donate</h4>
						<div class="ui horizontal list">
							<div class="item"><a href="https://www.patreon.com/bsf"><img class="ui image" src="become_a_patron_button.png"></a></div>
							<div class="item"><a href="https://www.paypal.me/MarkoPintera/10" target="_blank"><img class="ui image" src="paypalDonate.png"></a></div>
						</div>
						<p style="padding-top:7px"><i>bs::f</i> is developed by Marko Pintera and contributors.</p>
					</div>
				</div>
			</div>
		</div>
	</div>
</div> <!-- Everything -->
</body>
</html>
